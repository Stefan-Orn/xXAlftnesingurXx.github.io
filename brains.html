
<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta charset="UTF-8">
  <meta name="description" content="Create your own HTML5 multiplayer games in a browser!">
  <meta name="keywords" content="Braains.io, io games, modd.io, io game engine, online web game, .io game">
  <meta name="author" content="m0dE">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta http-equiv="X-UA-Compatible" content="IE=9">
  <title>
    Braains.io - powered by modd.io - Play & Make IO games
  </title>

  <meta name="Braains.io" content="black">

  <!-- facebook post metadata -->
  <meta property="og:type" content="game" />
  <meta property="og:title" content="Braains.io" />
  <meta property="og:description" content="Create your own HTML5 multiplayer games in a browser!" />
  <meta property="og:image" content="https://modd.s3.amazonaws.com/asset/spriteImage/1534146662018_cover.png" />

  
  <script src="/api/game-report/game-access/5a7fd59b1014dc000eeec3dd/client-load-start?version=249&user=5d5d4ecfdd1b9e2bd37ba9db"></script>
  
  <link rel="shortcut icon" type="image/png" href="/favicon.ico" />

  <script crossorigin="anonymous" type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.10/lodash.min.js"></script>

  <!-- bootstrap -->
  <script crossorigin="anonymous" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script crossorigin="anonymous" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

  <!-- context menu -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.contextMenu.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.contextMenu.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.7.1/jquery.ui.position.js"></script>

  <!-- <script crossorigin="anonymous" async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

  <!--     Fonts and icons     -->
  <script src="/assets/js/template.js?version=249"></script>
  <script src="/assets/js/from.js"></script>
  <script src="/assets/js/mordernizer.custom.js"></script>
  <script src="/assets/js/progress-button.js"></script>

  <link href="/assets/css/common.css?version=154" rel="stylesheet" crossorigin="anonymous">
  <link href="/assets/css/custom.css?version=749" rel="stylesheet" crossorigin="anonymous">
  <link href="/assets/css/progress-button.css" rel="stylesheet" crossorigin="anonymous">

  <script>
    var _rollbarConfig = {
      accessToken: "dee7ede43c5845d1a26cf56d3283fde4",
      captureUncaught: false,
      captureUnhandledRejections: false,
      payload: {
        environment: "production"
      }
    };
    // Rollbar Snippet
    !function (r) { var e = {}; function o(n) { if (e[n]) return e[n].exports; var t = e[n] = { i: n, l: !1, exports: {} }; return r[n].call(t.exports, t, t.exports, o), t.l = !0, t.exports } o.m = r, o.c = e, o.d = function (r, e, n) { o.o(r, e) || Object.defineProperty(r, e, { enumerable: !0, get: n }) }, o.r = function (r) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(r, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(r, "__esModule", { value: !0 }) }, o.t = function (r, e) { if (1 & e && (r = o(r)), 8 & e) return r; if (4 & e && "object" == typeof r && r && r.__esModule) return r; var n = Object.create(null); if (o.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: r }), 2 & e && "string" != typeof r) for (var t in r) o.d(n, t, function (e) { return r[e] }.bind(null, t)); return n }, o.n = function (r) { var e = r && r.__esModule ? function () { return r.default } : function () { return r }; return o.d(e, "a", e), e }, o.o = function (r, e) { return Object.prototype.hasOwnProperty.call(r, e) }, o.p = "", o(o.s = 0) }([function (r, e, o) { var n = o(1), t = o(4); _rollbarConfig = _rollbarConfig || {}, _rollbarConfig.rollbarJsUrl = _rollbarConfig.rollbarJsUrl || "https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.11.0/rollbar.min.js", _rollbarConfig.async = void 0 === _rollbarConfig.async || _rollbarConfig.async; var a = n.setupShim(window, _rollbarConfig), l = t(_rollbarConfig); window.rollbar = n.Rollbar, a.loadFull(window, document, !_rollbarConfig.async, _rollbarConfig, l) }, function (r, e, o) { var n = o(2); function t(r) { return function () { try { return r.apply(this, arguments) } catch (r) { try { console.error("[Rollbar]: Internal error", r) } catch (r) { } } } } var a = 0; function l(r, e) { this.options = r, this._rollbarOldOnError = null; var o = a++; this.shimId = function () { return o }, "undefined" != typeof window && window._rollbarShims && (window._rollbarShims[o] = { handler: e, messages: [] }) } var i = o(3), d = function (r, e) { return new l(r, e) }, s = function (r) { return new i(d, r) }; function c(r) { return t(function () { var e = Array.prototype.slice.call(arguments, 0), o = { shim: this, method: r, args: e, ts: new Date }; window._rollbarShims[this.shimId()].messages.push(o) }) } l.prototype.loadFull = function (r, e, o, n, a) { var l = !1, i = e.createElement("script"), d = e.getElementsByTagName("script")[0], s = d.parentNode; i.crossOrigin = "", i.src = n.rollbarJsUrl, o || (i.async = !0), i.onload = i.onreadystatechange = t(function () { if (!(l || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState)) { i.onload = i.onreadystatechange = null; try { s.removeChild(i) } catch (r) { } l = !0, function () { var e; if (void 0 === r._rollbarDidLoad) { e = new Error("rollbar.js did not load"); for (var o, n, t, l, i = 0; o = r._rollbarShims[i++];)for (o = o.messages || []; n = o.shift();)for (t = n.args || [], i = 0; i < t.length; ++i)if ("function" == typeof (l = t[i])) { l(e); break } } "function" == typeof a && a(e) }() } }), s.insertBefore(i, d) }, l.prototype.wrap = function (r, e, o) { try { var n; if (n = "function" == typeof e ? e : function () { return e || {} }, "function" != typeof r) return r; if (r._isWrap) return r; if (!r._rollbar_wrapped && (r._rollbar_wrapped = function () { o && "function" == typeof o && o.apply(this, arguments); try { return r.apply(this, arguments) } catch (o) { var e = o; throw e && ("string" == typeof e && (e = new String(e)), e._rollbarContext = n() || {}, e._rollbarContext._wrappedSource = r.toString(), window._rollbarWrappedError = e), e } }, r._rollbar_wrapped._isWrap = !0, r.hasOwnProperty)) for (var t in r) r.hasOwnProperty(t) && (r._rollbar_wrapped[t] = r[t]); return r._rollbar_wrapped } catch (e) { return r } }; for (var p = "log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,captureEvent,captureDomContentLoaded,captureLoad".split(","), u = 0; u < p.length; ++u)l.prototype[p[u]] = c(p[u]); r.exports = { setupShim: function (r, e) { if (r) { var o = e.globalAlias || "Rollbar"; if ("object" == typeof r[o]) return r[o]; r._rollbarShims = {}, r._rollbarWrappedError = null; var a = new s(e); return t(function () { e.captureUncaught && (a._rollbarOldOnError = r.onerror, n.captureUncaughtExceptions(r, a, !0), e.wrapGlobalEventHandlers && n.wrapGlobals(r, a, !0)), e.captureUnhandledRejections && n.captureUnhandledRejections(r, a, !0); var t = e.autoInstrument; return !1 !== e.enabled && (void 0 === t || !0 === t || "object" == typeof t && t.network) && r.addEventListener && (r.addEventListener("load", a.captureLoad.bind(a)), r.addEventListener("DOMContentLoaded", a.captureDomContentLoaded.bind(a))), r[o] = a, a })() } }, Rollbar: s } }, function (r, e) { function o(r, e, o) { if (e.hasOwnProperty && e.hasOwnProperty("addEventListener")) { for (var n = e.addEventListener; n._rollbarOldAdd && n.belongsToShim;)n = n._rollbarOldAdd; var t = function (e, o, t) { n.call(this, e, r.wrap(o), t) }; t._rollbarOldAdd = n, t.belongsToShim = o, e.addEventListener = t; for (var a = e.removeEventListener; a._rollbarOldRemove && a.belongsToShim;)a = a._rollbarOldRemove; var l = function (r, e, o) { a.call(this, r, e && e._rollbar_wrapped || e, o) }; l._rollbarOldRemove = a, l.belongsToShim = o, e.removeEventListener = l } } r.exports = { captureUncaughtExceptions: function (r, e, o) { if (r) { var n; if ("function" == typeof e._rollbarOldOnError) n = e._rollbarOldOnError; else if (r.onerror) { for (n = r.onerror; n._rollbarOldOnError;)n = n._rollbarOldOnError; e._rollbarOldOnError = n } e.handleAnonymousErrors(); var t = function () { var o = Array.prototype.slice.call(arguments, 0); !function (r, e, o, n) { r._rollbarWrappedError && (n[4] || (n[4] = r._rollbarWrappedError), n[5] || (n[5] = r._rollbarWrappedError._rollbarContext), r._rollbarWrappedError = null), e.handleUncaughtException.apply(e, n), o && o.apply(r, n) }(r, e, n, o) }; o && (t._rollbarOldOnError = n), r.onerror = t } }, captureUnhandledRejections: function (r, e, o) { if (r) { "function" == typeof r._rollbarURH && r._rollbarURH.belongsToShim && r.removeEventListener("unhandledrejection", r._rollbarURH); var n = function (r) { var o, n, t; try { o = r.reason } catch (r) { o = void 0 } try { n = r.promise } catch (r) { n = "[unhandledrejection] error getting `promise` from event" } try { t = r.detail, !o && t && (o = t.reason, n = t.promise) } catch (r) { } o || (o = "[unhandledrejection] error getting `reason` from event"), e && e.handleUnhandledRejection && e.handleUnhandledRejection(o, n) }; n.belongsToShim = o, r._rollbarURH = n, r.addEventListener("unhandledrejection", n) } }, wrapGlobals: function (r, e, n) { if (r) { var t, a, l = "EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(","); for (t = 0; t < l.length; ++t)r[a = l[t]] && r[a].prototype && o(e, r[a].prototype, n) } } } }, function (r, e) { function o(r, e) { this.impl = r(e, this), this.options = e, function (r) { for (var e = function (r) { return function () { var e = Array.prototype.slice.call(arguments, 0); if (this.impl[r]) return this.impl[r].apply(this.impl, e) } }, o = "log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleAnonymousErrors,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureEvent,captureDomContentLoaded,captureLoad".split(","), n = 0; n < o.length; n++)r[o[n]] = e(o[n]) }(o.prototype) } o.prototype._swapAndProcessMessages = function (r, e) { var o, n, t; for (this.impl = r(this.options); o = e.shift();)n = o.method, t = o.args, this[n] && "function" == typeof this[n] && ("captureDomContentLoaded" === n || "captureLoad" === n ? this[n].apply(this, [t[0], o.ts]) : this[n].apply(this, t)); return this }, r.exports = o }, function (r, e) { r.exports = function (r) { return function (e) { if (!e && !window._rollbarInitialized) { for (var o, n, t = (r = r || {}).globalAlias || "Rollbar", a = window.rollbar, l = function (r) { return new a(r) }, i = 0; o = window._rollbarShims[i++];)n || (n = o.handler), o.handler._swapAndProcessMessages(l, o.messages); window[t] = n, window._rollbarInitialized = !0 } } } }]);
        // End Rollbar Snippet
  </script>

  
  <!--cpm star ads-->
  <!-- <script crossorigin="anonymous" async src="https://ssl.cdne.cpmstar.com/cached/js/lib.js"></script> -->

  <!--  MODD.IO ZONETAG for GAME PAGE -->

  <!-- <script>
        (function (zonefile) {
          var rnd = Math.round(Math.random() * 999999);
          var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true;
          var host = "enjoy.modd.io";
          if (window.location.hash == "#cpmstarDev") { host = "//dev.urlzing.com"; }
          if (window.location.hash == "#cpmstarStaging") { host = "//staging.urlzing.com"; }
          s.src = "//" + host + "/" + zonefile + "?rnd=" + rnd;
          var s2 = document.getElementsByTagName('script')[0];
          s2.parentNode.insertBefore(s, s2);
          var y = window.location.href.split('').reduce(function (a, b) { return (a << 5) - a + b.charCodeAt(0) >>> 1 }, 0); y = (10 + ((y * 7) % 26)).toString(36) + y.toString(36);
          var drutObj = window[y] = window[y] || {};
          window["_" + zonefile] = function (o) { (drutObj.cmd = drutObj.cmd || []).push(o); }
        }('gobtlrkyjI9ix7sgkstZieX5/in4y/bv8hsjqsx/ez8y5xX.js'));
      </script> -->

  <!-- BEGIN CPMSTAR ANCHOR AD CODE -->
  <!-- <script type="text/javascript">
        var cpmstar_anchorad_settings = {
          poolid: 79434, //Pool ID assigned by CPMStar
          dir: -1,
          horizontal: true,
          closeBarSize: '600px'
        };
      </script> -->
  <!-- END CPMSTAR ANCHOR AD CODE -->

  <!-- BEGIN CPMSTAR ANCHOR AD CODE -->
  <script type="text/javascript">
    var cpmstar_anchorad_settings = {
      poolid: 79390, //Pool ID assigned by CPMStar
      dir: 1
    };

    (function (d, t, s) { t = d.createElement('script'); t.type = 'text/javascript'; t.src = (d.location.protocol == 'https:' ? '//server' : '//cdn') + '.cpmstar.com/cached/js/anchorad_v100.pack.js'; t.async = true; s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(t, s); })(document, {}, {});
  </script>
  <!-- END CPMSTAR ANCHOR AD CODE -->
  

  <script async src="//api.adinplay.com/libs/aiptag/pub/BRN/modd.io/tag.min.js"></script>
  <script>
    var aiptag = aiptag || {};
    aiptag.consented = true; //GDPR setting, please set this value to false if an EU user has declined or not yet accepted marketing cookies, for users outside the EU please use true
    aiptag.cmd = aiptag.cmd || [];
    aiptag.cmd.display = aiptag.cmd.display || [];
    aiptag.cmd.player = aiptag.cmd.player || [];
  </script>
  <script crossorigin="anonymous" src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.26.11/sweetalert2.all.js"></script>


  <!-- Hotjar Tracking Code for www.modd.io -->
  <!-- <script>
    (function (h, o, t, j, a, r) {
      h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
      h._hjSettings = { hjid: 833230, hjsv: 6 };
      a = o.getElementsByTagName('head')[0];
      r = o.createElement('script'); r.async = 1;
      r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
      a.appendChild(r);
    })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
  </script> -->
</head>

<body style="background-color: black;overflow: hidden;user-select:text;">
  <script>
    // don't move this downwards becauase at the time or writing this code
    // this variable is being used in different files so we need to make sure that
    // this variable gets initialied first
    var analyticsUrl = '/';
  </script>

  
  <div class="modal" id="enter-email-modal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          Please verify your email to participate in chat. <a target="_blank" href="/user/nigga8254">[Verify email]</a>
        </div>
      </div>
    </div>
  </div>
  
  <div class="modal fade p-0" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="userLogin(event, {reloadOnSuccess: true})" id='login-form'>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col">
                            <div id="login-error" class="alert alert-danger" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-9">
                            <div class="form-group row">
                                <div class="col-12">
                                    <input class="form-control" type="text" id="username" placeholder="Username">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input class="form-control" type="password" id="password" placeholder="Password">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="row">
                                <div class="col-12 pl-0">
                                    <button type="submit" class="btn btn-block btn-lg btn-primary login-button">
                                        <i class="d-none d-sm-inline fas fa-sign-in-alt"></i>
                                        <span>Login</span>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 d-flex justify-content-center pt-1 pl-0">
                                    <a class="forget-password" href="" data-dismiss="modal" data-toggle="modal" data-target="#forget-password-modal">
                                        Forgot Password?
                                    </a>
                                </div>
                                <div class="col-12 d-flex justify-content-center pt-1 pl-0">
                                    <a class="forget-password" href="" data-dismiss="modal" data-toggle="modal" data-target="#forget-username-modal">
                                        Forgot Username?
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center">
                            <a href="/agreement/tos" class="mx-2" target="_blank">Terms of Service</a>
                            <a href="/agreement/pp" class="mx-2" target="_blank">Privacy Policy</a>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row my-md-2 my-1">
                        <div class="col-12">
                            <div class="d-flex justify-content-center">
                                <a class="btn btn-block facebook-login-button" href="/auth/facebook">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <i class="fab fa-facebook-square fa-2x mr-2"></i>
                                        <span>
                                            Continue with Facebook
                                        </span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row mt-1 mt-md-2">
                        <div class="col-12">
                            <button type="button" class="btn btn-lg btn-info btn-block" data-toggle="modal" data-target="#signupmodal">
                                <i class="fa fa-user-plus"></i>
                                <span>Sign Up</span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="signupmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-backdrop="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="min-width: 500px;">
        <div class="modal-content">
            <form onsubmit="userSignup(event)">
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Sign Up</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert alert-danger" style="display: none;" id="signup-error"></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-9">
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_username" class="form-control" type="text" pattern="[a-zA-Z0-9]*" title="username should be in alphanumeric" placeholder="Username" required />
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_email" class="form-control" type="email" placeholder="Email" required />
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_password" class="form-control" placeholder="Password" type="password" required />
                                </div>
                            </div>
                            <div class="form-group row mb-0">
                                <div class="col-12">
                                    <input id="signup_confirm_password" class="form-control" placeholder="Confirm Password" type="password" required />
                                </div>
                            </div>
                        </div>
                        <div class="col-3 d-flex pl-0">
                            <button type="submit" class="btn btn-lg btn-block btn-primary px-1">
                                <div>
                                    <i class="fa fa-user-plus"></i>
                                </div>
                                <div>
                                    <span>Sign Up</span>
                                </div>
                            </button>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-12 text-center">
                            <a href="/agreement/tos" class="mx-2" target="_blank">Terms of Service</a>
                            <a href="/agreement/pp" class="mx-2" target="_blank">Privacy Policy</a>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row mt-2">
                        <div class="col-12">
                            <a class="btn btn-block facebook-login-button" href="/auth/facebook">
                                <div class="d-flex justify-content-center align-items-center">
                                    <i class="fab fa-facebook-square fa-2x mr-2"></i>
                                    <span>
                                        Continue with Facebook
                                    </span>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="forget-password-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="forgotPasswordSubmit(event)" novalidate>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Request Password Reset</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert text-center alert-success d-none" id="email-success">
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="alert text-center alert-danger d-none" id="email-error">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" required id="forgetpwd-username" placeholder="Username">
                    </div>
                    <div class="form-group mb-0">
                        <input type="email" class="form-control" required id="forgetpwd-email" placeholder="Email">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-lg btn-block btn-info">
                        <i class="fa fa-envelope"></i>
                        <span>Send Link to Email</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="forget-username-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="forgotUsernameSubmit(event)" novalidate>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Request Username</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert text-center alert-success d-none" id="forget-username-success">
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="alert text-center alert-danger d-none" id="forget-username-error">
                            </div>
                        </div>
                    </div>
                    <div class="form-group mb-0">
                        <input
                            id="forget-username-email"
                            class="form-control"
                            type="email"
                            placeholder="Email"
                            required
                        >
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-lg btn-block btn-info">
                        <i class="fa fa-envelope"></i>
                        <span>Send Link to Email</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade p-0" id="quick-signup-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="quickSignup(event)" id='quick-signup-form'>
                <div class="modal-header">
                    <h5 class="modal-title">Enter your username</h5>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col">
                            <div class="alert alert-danger quick-signup-error" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-9 pr-0">
                            <div class="form-group row mb-0">
                                <div class="col-12">
                                    <input class="form-control" type="text" id="username" pattern="[a-z0-9A-Z]*" placeholder="Username">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <button class="btn btn-info btn-block" type="submit">
                                <span>Enter</span>
                            </button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center">
                            <small style="font-size:11px;">By entering username, you agree to our
                                <a href="https://www.modd.io/agreement/tos">Terms</a> and
                                <a href="https://www.modd.io/agreement/pp">Policy</a>
                            </small>
                        </div>
                    </div>

                    <div class="row my-2 text-center">
                        <div class="col-12">
                            Already have an Account? <a href='#' onclick="openLoginModal()">Login</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="tos-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-none d-md-flex">
                <h5 class="modal-title">Terms of Service</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- dont put src directly here because it will load tos whenever login page is loaded
                and it messes up google analytics look at openTOSModal() -->
                <iframe width="100%" height="400" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="pp-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-none d-md-flex">
                <h5 class="modal-title">Privacy Policy</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- dont put src directly here because it will load pp whenever login page is loaded
                and it messes up google analytics, look at openPPModal() -->
                <iframe width="100%" height="400" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>
    
  
<div class="modal fade p-0" id="login-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="userLogin(event, {reloadOnSuccess: true})" id='login-form'>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Login</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col">
                            <div id="login-error" class="alert alert-danger" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-9">
                            <div class="form-group row">
                                <div class="col-12">
                                    <input class="form-control" type="text" id="username" placeholder="Username">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input class="form-control" type="password" id="password" placeholder="Password">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="row">
                                <div class="col-12 pl-0">
                                    <button type="submit" class="btn btn-block btn-lg btn-primary login-button">
                                        <i class="d-none d-sm-inline fas fa-sign-in-alt"></i>
                                        <span>Login</span>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12 d-flex justify-content-center pt-1 pl-0">
                                    <a class="forget-password" href="" data-dismiss="modal" data-toggle="modal" data-target="#forget-password-modal">
                                        Forgot Password?
                                    </a>
                                </div>
                                <div class="col-12 d-flex justify-content-center pt-1 pl-0">
                                    <a class="forget-password" href="" data-dismiss="modal" data-toggle="modal" data-target="#forget-username-modal">
                                        Forgot Username?
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center">
                            <a href="/agreement/tos" class="mx-2" target="_blank">Terms of Service</a>
                            <a href="/agreement/pp" class="mx-2" target="_blank">Privacy Policy</a>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row my-md-2 my-1">
                        <div class="col-12">
                            <div class="d-flex justify-content-center">
                                <a class="btn btn-block facebook-login-button" href="/auth/facebook">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <i class="fab fa-facebook-square fa-2x mr-2"></i>
                                        <span>
                                            Continue with Facebook
                                        </span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row mt-1 mt-md-2">
                        <div class="col-12">
                            <button type="button" class="btn btn-lg btn-info btn-block" data-toggle="modal" data-target="#signupmodal">
                                <i class="fa fa-user-plus"></i>
                                <span>Sign Up</span>
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="signupmodal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true" data-backdrop="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="min-width: 500px;">
        <div class="modal-content">
            <form onsubmit="userSignup(event)">
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Sign Up</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert alert-danger" style="display: none;" id="signup-error"></div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-9">
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_username" class="form-control" type="text" pattern="[a-zA-Z0-9]*" title="username should be in alphanumeric" placeholder="Username" required />
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_email" class="form-control" type="email" placeholder="Email" required />
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-12">
                                    <input id="signup_password" class="form-control" placeholder="Password" type="password" required />
                                </div>
                            </div>
                            <div class="form-group row mb-0">
                                <div class="col-12">
                                    <input id="signup_confirm_password" class="form-control" placeholder="Confirm Password" type="password" required />
                                </div>
                            </div>
                        </div>
                        <div class="col-3 d-flex pl-0">
                            <button type="submit" class="btn btn-lg btn-block btn-primary px-1">
                                <div>
                                    <i class="fa fa-user-plus"></i>
                                </div>
                                <div>
                                    <span>Sign Up</span>
                                </div>
                            </button>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-12 text-center">
                            <a href="/agreement/tos" class="mx-2" target="_blank">Terms of Service</a>
                            <a href="/agreement/pp" class="mx-2" target="_blank">Privacy Policy</a>
                        </div>
                    </div>

                    <div class="row px-3">
                        <div class="col-12 or-separation">
                            <span>or</span>
                        </div>
                    </div>

                    <div class="row mt-2">
                        <div class="col-12">
                            <a class="btn btn-block facebook-login-button" href="/auth/facebook">
                                <div class="d-flex justify-content-center align-items-center">
                                    <i class="fab fa-facebook-square fa-2x mr-2"></i>
                                    <span>
                                        Continue with Facebook
                                    </span>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="forget-password-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="forgotPasswordSubmit(event)" novalidate>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Request Password Reset</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert text-center alert-success d-none" id="email-success">
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="alert text-center alert-danger d-none" id="email-error">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" required id="forgetpwd-username" placeholder="Username">
                    </div>
                    <div class="form-group mb-0">
                        <input type="email" class="form-control" required id="forgetpwd-email" placeholder="Email">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-lg btn-block btn-info">
                        <i class="fa fa-envelope"></i>
                        <span>Send Link to Email</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="forget-username-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="forgotUsernameSubmit(event)" novalidate>
                <div class="modal-header d-none d-md-flex">
                    <h5 class="modal-title">Request Username</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col-12">
                            <div class="alert text-center alert-success d-none" id="forget-username-success">
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="alert text-center alert-danger d-none" id="forget-username-error">
                            </div>
                        </div>
                    </div>
                    <div class="form-group mb-0">
                        <input
                            id="forget-username-email"
                            class="form-control"
                            type="email"
                            placeholder="Email"
                            required
                        >
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-lg btn-block btn-info">
                        <i class="fa fa-envelope"></i>
                        <span>Send Link to Email</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade p-0" id="quick-signup-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <form onsubmit="quickSignup(event)" id='quick-signup-form'>
                <div class="modal-header">
                    <h5 class="modal-title">Enter your username</h5>
                </div>

                <div class="modal-body">
                    <div class="row text-center">
                        <div class="col">
                            <div class="alert alert-danger quick-signup-error" style="display: none;"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-9 pr-0">
                            <div class="form-group row mb-0">
                                <div class="col-12">
                                    <input class="form-control" type="text" id="username" pattern="[a-z0-9A-Z]*" placeholder="Username">
                                </div>
                            </div>
                        </div>
                        <div class="col-3">
                            <button class="btn btn-info btn-block" type="submit">
                                <span>Enter</span>
                            </button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center">
                            <small style="font-size:11px;">By entering username, you agree to our
                                <a href="https://www.modd.io/agreement/tos">Terms</a> and
                                <a href="https://www.modd.io/agreement/pp">Policy</a>
                            </small>
                        </div>
                    </div>

                    <div class="row my-2 text-center">
                        <div class="col-12">
                            Already have an Account? <a href='#' onclick="openLoginModal()">Login</a>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="tos-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-none d-md-flex">
                <h5 class="modal-title">Terms of Service</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- dont put src directly here because it will load tos whenever login page is loaded
                and it messes up google analytics look at openTOSModal() -->
                <iframe width="100%" height="400" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="pp-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header d-none d-md-flex">
                <h5 class="modal-title">Privacy Policy</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <!-- dont put src directly here because it will load pp whenever login page is loaded
                and it messes up google analytics, look at openPPModal() -->
                <iframe width="100%" height="400" frameborder="0"></iframe>
            </div>
        </div>
    </div>
</div>
    

<div class="modal fade" id="create-game-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create Game Wizard</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="row">
                    <div id="wizard" class="w-100"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $('#create-game-modal').on('hidden.bs.modal', function () {
        window.wizardRef.firstStep();
    });
</script>

<div class="modal fade" id="access-denind-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Access Denied</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <p>You're allowed to create up to 10 games this time. If you want to make more games, please ask
                    our mods in
                    Modd.io Discord server</p>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="contact-us-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-body p-0" style="height: 80vh;">
            </div>
        </div>
    </div>
</div>
<script>
    $('#contact-us-modal').on('shown.bs.modal', function () {
        var iframe = $('<iframe class= "h-100 w-100" src = "https://forms.gle/D4fpmC8jUWkpXiSd9" frameborder = "0"></iframe >');
        $('#contact-us-modal .modal-body').html('').append(iframe);
    });
</script>

<div class="modal fade" id="no-email-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Access Denied</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <p>May be your email address is not configured/verified. Please configure/verify your email address. To
                    configure/verify
                    please click configure
                </p>
            </div>
            <div class="modal-footer">
                
                <a href='user/nigga8254' class='btn btn-primary'>Configure</a>
                
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-md" id="paypal-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Paypal Account Email Address</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <Form id='paypal-modal-form' onsubmit="updatePaypalEmailaddress(event)">
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="staticEmail" class="col-sm-5 col-form-label">Paypal email address</label>
                        <div class="col-sm-7">
                            <input type="email" class="form-control" id="payPalEmail" required>
                        </div>
                    </div>
                    <div class="text-center">
                        <small>This email will be used to pay you if you create good games.</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type='submit' class='btn btn-primary'> Update</button>
                </div>
            </Form>
        </div>
    </div>
</div>

<div class="modal fade" id="email-verification-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Email Verification</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <p>Your Email is not being verified. Please click on verify to send verification link to your email</p>
            </div>
            <div class="modal-footer">
                
                <a onclick="emailVerification()" style='color: white;' class='btn btn-primary cursor-pointer'>Verify</a>
                
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="tile-selection-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Select Tile</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div id='map-pallet-img' class="d-flex justify-content-center"></div>
            </div>
            <div class="modal-footer">

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="report-issue-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Report Issue</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form onsubmit='handleReportSubmit(event)' id='report-issue-form'>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="issue">Issue</label>
                        <select class="form-control" id="issue" required>
                            <option value="game_doesn't_work">Game doesn't work</option>
                            <option value='copyright_infringement'>Copyright infringement</option>
                            <option value='other'>Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea class="form-control" id="description" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="whoareyou">Who are you?</label>
                        <textarea class="form-control" rows="3" id='whoareyou'></textarea>
                    </div>
                    <div class="form-group">
                        <label for="contactEmail">how can we contact you? </label>
                        <input type="email" class="form-control" placeholder='Your email address' id="contactEmail" required>
                    </div>
                </div>
                <div class="modal-footer" style='justify-content: space-between !important;'>
                    <button type='button' data-dismiss="modal" aria-label="Close" class='btn btn-danger'>Cancel</button>
                    <button type='submit' class='btn btn-info'>Report</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="youtubeModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg modal-xl" role="document">
        <div class="modal-content" id='modal-for-youtube'>
            <div class="modal-header">
                <h5 class="modal-title" id="videoName"></h5>
                <button type="button" class="close" onclick='removeVideoFromIframe()' data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class='text-center' id='video-div'>

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal" id="region-modal-client" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="region-modal-title">Update region</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id='region-form'>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Key</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" placeholder='key' id="region-modal-key" required>
                        </div>
                    </div>
                    <div class="form-group row" style='display:none'>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Default Key </label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" disabled placeholder='datatype' id="region-modal-defaultKey" required>
                        </div>
                    </div>
                    <div class="form-group row" style='display:none'>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Datatype </label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" disabled placeholder='datatype' id="region-modal-datatype" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">X </label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" placeholder='x' id="region-modal-x" required>
                        </div>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Y </label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" placeholder='y' id="region-modal-y" required>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Width </label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" placeholder='width' id="region-modal-width" required>
                        </div>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Height </label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control" placeholder='height' id="region-modal-height" required>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="justify-content: space-between;">
                    <button class='btn btn-danger' id='region-delete-btn' tabindex="-1">
                        <i class='fa fa-times'></i> Delete</button>
                    <div>
                        <button class='btn btn-primary' id='region-update-btn' type='submit'>
                            <i class='fa fa-pencil'></i> Update</button>
                        <button class='btn btn-info' data-dismiss="modal" aria-label="Close">
                            <i class='fa fa-times'></i> Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal" id="debris-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="region-modal-title">Update debris</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form id='debris-form'>
                <div class="modal-body">
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Name </label>
                        <div class="col-sm-11">
                            <input type="text" class="form-control" placeholder='name' id="debris-name">
                        </div>
                    </div>
                    <div class="form-group row" style='display:none'>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Gid </label>
                        <div class="col-sm-11">
                            <input type="text" class="form-control" placeholder='gid' id="debris-gid" required>
                        </div>
                    </div>
                    <div class="form-group row" style='display:none'>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">visible </label>
                        <div class="col-sm-11">
                            <!-- <input type="text" class="form-control" placeholder='datatype' id="debris-visible"> -->
                            <div class="btn-group btn-group-toggle" data-toggle="buttons">
                                <label class="btn btn-primary active" id='visible-true'>
                                    <input type="radio" name="options" id="option1" value='true' autocomplete="off" checked> Yes
                                </label>
                                <label class="btn btn-primary" id='visible-false'>
                                    <input type="radio" name="options" id="option2" value='false' autocomplete="off">
                                    No
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row" style='display:none'>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Id </label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" placeholder='datatype' id="debris-id">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Width </label>
                        <div class="col-sm-5">
                            <input type="number" class="form-control" step='any' placeholder='width' id="debris-width">
                        </div>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Height </label>
                        <div class="col-sm-5">
                            <input type="number" class="form-control" step='any' placeholder='height' id="debris-height">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-1 col-form-label">X </label>
                        <div class="col-sm-3">
                            <input type="number" class="form-control" step='any' placeholder='width' id="debris-x">
                        </div>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Y </label>
                        <div class="col-sm-3">
                            <input type="number" class="form-control" step='any' placeholder='height' id="debris-y">
                        </div>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Rotation </label>
                        <div class="col-sm-3">
                            <input type="number" class="form-control" step='any' placeholder='rotation' id="debris-rotation">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Density </label>
                        <div class="col-sm-3">
                            <input type="number" class="form-control" step='any' placeholder='density' id="debris-density">
                        </div>
                        <label for="inputEmail3" class="col-sm-1 col-form-label">Friction </label>
                        <div class="col-sm-3">
                            <input type="number" class="form-control" step='any' placeholder='density' id="debris-friction">
                        </div>
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Restitution </label>
                        <div class="col-sm-2">
                            <input type="number" class="form-control" step='any' placeholder='restitution' id="debris-restitution">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="inputEmail3" class="col-sm-2 col-form-label">Body type </label>
                        <div class="col-sm-3">
                            <select id='debris-type' class="form-control">
                                <option value='static'>static</option>
                                <option value='dynamic'>dynamic</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class='modal-footer' style="justify-content: space-between;">
                    <button class='btn btn-danger' id='debris-delete'>
                        <i class='fa fa-times'></i> Delete</button>
                    <div>
                        <button class='btn btn-primary' id='debris-update'>
                            <i class='fa fa-pencil-alt'></i> Update</button>
                        <button class='btn btn-info' data-dismiss="modal" aria-label="Close">
                            <i class='fa fa-times'></i> Cancel</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="logout-info" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Warning</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <span>
                    You are about to log out without setting your recovery email. This means you may permanently lose
                    access to this account. Are you sure you want to Proceed?
                </span>
                <br />
                <div class="alert alert-info mt-4">
                    <strong>
                        We suggest you to set email address and get it verified first.
                    </strong>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-dismiss="modal">
                    Cancel
                </button>

                
                <a href="/user/nigga8254" class='btn btn-primary cursor-pointer'>Set Email
                    Address</a>
                

                <button class="btn btn-danger" onclick="logoutUser()" data-dismiss="modal">
                    Yes, Log out
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="coin-shop" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Coin Shop</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="row justify-content-center">
                    <div class="col-9">
                        <div class="coin-shop p-0">
    <div class="coin-offer-container btn-purchase-coins text-center py-3 mr-3" name="1.99">
        <div class="coin-offer-ui w-100 d-flex justify-content-center">

            <img src="/assets/images/coin-pack-1.png" class="w-100 mobile-img" style="top: 0;" alt="coin" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 2 days</div> -->
            </div>
            <div class="coin-price w-100">
                $1.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="4.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">

            <img src="/assets/images/coin-pack-2.png" class="w-100 mobile-img" alt="coin-pack-2" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">1,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 7 days</div> -->
            </div>
            <div class="coin-price w-100">
                $4.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="9.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-3.png" class="w-100 mobile-img" alt="coin-pack-3" />
            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">3,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 14 days</div> -->
            </div>

            <div class="coin-price w-100">
                $9.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 btn-purchase-coins" name="19.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-4.png" class="w-100 mobile-img" alt="coin-pack-4" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">8,000</span>
                        Coins
                    </p>
                </div>

                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 30 days</div> -->
            </div>

            <div class="coin-price w-100">
                $19.99
            </div>
        </div>
    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="refresh-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <!-- <div class="modal-header">
                <h5 class="modal-title">Refresh</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> -->

            <div class="modal-body">
                <div class="row">
                    <div class="col-10 offset-1">
                        Server stopped responding. Would you like to refresh this page?
                    </div>
                </div>
            </div>

            <div class="modal-footer py-2">
                <button class="btn btn-primary" onclick="window.location.reload()">
                    <i class="fa fa-sync mr-2"></i>
                    Refresh
                </button>
                <button class="btn btn-secondary" type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <!-- <i class="fa fa-time mr-2"></i> -->
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="add-friends-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Friends</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <div class="input-group my-3">
                    <input
                        type="text"
                        class="form-control"
                        id="add-friend-typeahead"
                        autocomplete="off"
                        placeholder="Search Users..."
                        data-user-id=""
                    />
                    <div class="input-group-append">
                        <button
                            class="btn btn-primary disabled"
                            id="add-friend"
                            type="button"
                            onclick="sendFriendRequest()"
                        >
                            Add Friend
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

  <div class='alert alert-warning' id='item-purchase-warning'>
  </div>

  <div id="featured-youtuber" style="display:none;">
    <div>
      
      <h5 class='m-0'>
        Watch
        <a href='https://www.youtube.com/watch?v=nd6AAgZ9NTs' target='_black'>
          ConLaiks 
        </a>
        play!
      </h5>
      
      <small>
        <a href='/youtuber/two-houses'>Apply here to become our featured Youtuber</a>
      </small>
    </div>
  </div>
  <script>
    $(document).ready(function () {
        $.ajax('/showads.js')
            .done(function () {
                if (typeof gameId != "undefined") {
                    countAdImpression(gameId, 'banner', 2);
                }
                adBlockStatus(false);
            })
            .fail(function (d) {
                if (d.status === 0 || d.statusText == 'error') {
                    window.adBlockEnabled = true;
                    adBlockStatus(true);
                }
            });
    });
</script>
  <style>
    .xpaystation-widget-lightbox {
      z-index: 110000 !important;
    }

    .modal {
      z-index: 99999;
    }

    .swal2-container.swal2-shown {
      z-index: 100000
    }
  </style>
  
  <!-- adinplay -->
  
  <div id="preroll" style="z-index:40000; position: absolute; display:none" class="absolute-center"></div>
  <div id="user-permission-tracker"></div>
  <div class='d-flex justify-content-center'>
    <div class="alert alert-secondary text-center cursor-pointer bg-light" id="disable-ads-be-our-patron" style="position:absolute;z-index:40001;display: none;" onclick="ige.shop.openModdShop('', '#disable-ads-shop');">
      <strong class="text-primary">Wanna disable Ads? Get "Disable Ads" package!</strong>
    </div>
  </div>
  
  

  <div class="modal text-center" tabindex="-1" id="gameover-modal" role="dialog" style=" top: 15%">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">

        <div class="modal-body">
          <ul class="list-group" id="survivor-list">

          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade" tabindex="-1" id="server-disconnect-modal" role="dialog" style=" top: 15%">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header d-flex hide-on-mobile">
          <h5 class="modal-title">Connection Lost</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Lost connection to the game server. Please refresh this page or visit our homepage.
        </div>
        <div class="border-top p-3">
          <div class="row">
            <div class="col-12 col-md-6">
              <a href="/" class="btn btn-primary btn-block">
                <i class="fa fa-home"></i> Return to homepage
              </a>
            </div>

            <div class="col-12 col-md-6 mt-3 mt-md-0">
              <a onClick="clearRefreshInterval(); window.location.href = window.location.pathname;" class="btn btn-info text-white btn-block">
                <i class="fa fa-sync"></i>
                <span id="connection-lost-refresh">Refresh</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" tabindex="-1" id="setting-modal" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Settings</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row mb-2">
            <div class='col-sm-4'>
              <label>Sound</label>
            </div>
            <div class='col-sm-8'>
              <div class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons">
                <label class="btn btn-success" id="sound-on" style="width:100px">
                  <input type="radio" name="options" autocomplete="off" checked> On
                </label>
                <label class="btn btn-light" id="sound-off" style="width:100px">
                  <input type="radio" name="options" autocomplete="off"> Off
                </label>
              </div>
            </div>

          </div>
          <div class="row mb-2">
            <div class='col-sm-4'>
              <label>Music</label>
            </div>
            <div class='col-sm-8'>
              <div class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons">
                <label class="btn btn-success" id="music-on" style="width:100px">
                  <input type="radio" name="options" autocomplete="off" checked> On
                </label>
                <label class="btn btn-light" id="music-off" style="width:100px">
                  <input type="radio" name="options" autocomplete="off"> Off
                </label>
              </div>
            </div>
          </div>
          <div class="row">
            <div class='col-sm-4'>
              <label>Resolution</label>
            </div>
            <div class='col-sm-8'>
              <div class="btn-group btn-group-toggle btn-group-sm" data-toggle="buttons">
                <label class="btn btn-light" id="resolution-low" style="width:100px">
                  <input type="radio" name="options" autocomplete="off"> Low (Faster)
                </label>
                <label class="btn btn-success" id="resolution-high" style="width:100px">
                  <input type="radio" name="options" autocomplete="off" checked> High
                </label>
              </div>
            </div>
          </div>

          <div class="row mt-4">
            <div class="col-sm-12">
              <strong>
                For Chrome or Opera users
              </strong>
            </div>
            <div class="col-sm-12">
              Enable Hardware Acceleration in your browser to get better experience, visit
              <a href="https://www.lifewire.com/hardware-acceleration-in-chrome-4125122" target="_blank">
                https://www.lifewire.com/hardware-acceleration-in-chrome-4125122
              </a>
              for more details.
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Close</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="error-log-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="width: 90%;max-width:1200px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Error Logs</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body" id='error-log-content' style='overflow-y: auto;max-height: 500px;'></div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="dev-status-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document" style="width: 90%;max-width:1200px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Status</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body" id='dev-status-content'></div>
      </div>
    </div>
  </div>

  <div id="menu-button-container" class="row pointer-events-none" style="left: 0px; right: 0; text-align: right;">
    <div class="col-3 pr-2 pl-0 pointer-events-all">
      <div id="modd-shop-div" class="h-100 align-items-center">
        <div id="top-menu-buttons" class="float-left" role="group">
          <button type="button" class="btn btn-secondary open-menu-button mr-2" style="display:none">
            <i class="fa fa-bars" aria-hidden="true"></i>
            Menu
          </button>
          <button type="button" class="btn btn-secondary mr-2" id='mobile-chat-button' onclick="$('#chat-message-input').show(); $('#chat-message-input input').focus()" style="display:none">
            <i class="fas fa-comment" aria-hidden="true"></i>
          </button>
          <!-- <button type="button" class="btn btn-secondary mr-2" id='mobile-chat-toggle-button' onclick="$('#mobile-chat-box').toggle('d-none');" style="display:none">
            <i class="fas fa-comments" aria-hidden="true"></i>
          </button> -->
          <button type="button" class="btn btn-secondary mr-2 open-modd-shop-button" id="mobile-shop-button" style="display:none">
            <i class="fas fa-tshirt" aria-hidden="true"></i>
          </button>
          <!-- <button type="button" class="btn btn-secondary d-block d-md-none" id='logout' onclick="logout()">
            <i class="fas fa-power-off" aria-hidden="true"></i>
          </button> -->
        </div>

        <!-- dev panels -->
        <button id="toggle-dev-panels" onclick="toggleDevConsole()" style="display: none;" class="btn btn-danger hide-on-mobile float-left">
          Dev Console
        </button>
        <button class="btn btn-warning hide-on-mobile" style="z-index:9999;display: none;margin-left: 10px;" id="kick-player">
          Moderate
        </button>
      </div>
    </div>
    <div id="counter" class="col-6 p-0 d-flex align-items-center justify-content-center">
      <div class="ui-text-top dark-bg text-center"></div>
      <div class="highscore-text" style="z-index:9000;font-size:4rem">
      </div>
    </div>
    <div id="login-div" class="text-right pointer-events-all hide-on-mobile col-3 pl-2 py-0 pr-0 user-select-none" style="font-size: 0.5rem;">
      
      <div>
        <div>
          <div style="display: inline;">
            Connected
            <span id="server-text"></span>
          </div>
        </div>
        <div style="display:block;text-align: right;">
          <small>
            <span id='updateping'>0</span> ms
            <span id='updatefps'>0</span> fps
          </small>
        </div>
      </div>
      
    </div>

    
    <div id="game-suggestions-card" class="d-none d-xl-block card mt-2 pointer-events-all dark-bg p-0" style="width: 18rem; display: none;">
      <div class="card-body p-1 text-light">
        <div class="d-flex justify-content-between align-items-center p-1 border-bottom">
          <div>
            <span class="card-title my-1">Trending games</span>
          </div>
          <div class="pb-1">
            <button onclick="closeGamesSuggestionCard()" type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <ul class="list-group list-group-flush">
          
          <li class="list-group-item p-2 border-top-0 bg-transparent cursor-pointer" onclick="location.href='/play/rich-town'">
            <div class="row justify-content-between align-items-center">
              <div class="col-8 d-flex align-items-center text-left">
                <div class="pr-2">
                  <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1565408866456_Semttulo.png" style="height: 30px; width: 30px;" class="rounded" alt="Rich Town - 10K" />
                </div>
                <div>
                  Rich Town - 10K
                </div>
              </div>
              <div class="col-4">
                41 players
              </div>
            </div>
          </li>
          
          <li class="list-group-item p-2 border-top-0 bg-transparent cursor-pointer" onclick="location.href='/play/y6e2pbhTY'">
            <div class="row justify-content-between align-items-center">
              <div class="col-8 d-flex align-items-center text-left">
                <div class="pr-2">
                  <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1566387782488_as.PNG" style="height: 30px; width: 30px;" class="rounded" alt="Small Garden 10k | New Map !" />
                </div>
                <div>
                  Small Garden 10k | New Map !
                </div>
              </div>
              <div class="col-4">
                41 players
              </div>
            </div>
          </li>
          
          <li class="list-group-item p-2 border-top-0 bg-transparent cursor-pointer" onclick="location.href='/play/dojo'">
            <div class="row justify-content-between align-items-center">
              <div class="col-8 d-flex align-items-center text-left">
                <div class="pr-2">
                  <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1560522460616_taekwoncoverimageupdated.png" style="height: 30px; width: 30px;" class="rounded" alt="Taekwon.io: New Map!" />
                </div>
                <div>
                  Taekwon.io: New Map!
                </div>
              </div>
              <div class="col-4">
                30 players
              </div>
            </div>
          </li>
          
          <li class="list-group-item p-2 border-top-0 bg-transparent cursor-pointer" onclick="location.href='/play/braainsio'">
            <div class="row justify-content-between align-items-center">
              <div class="col-8 d-flex align-items-center text-left">
                <div class="pr-2">
                  <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1565905694633_Yourparagraphtext(1).png" style="height: 30px; width: 30px;" class="rounded" alt="Metropolis For Nubs" />
                </div>
                <div>
                  Metropolis For Nubs
                </div>
              </div>
              <div class="col-4">
                23 players
              </div>
            </div>
          </li>
          
          <li class="list-group-item p-2 border-top-0 bg-transparent cursor-pointer" onclick="location.href='/play/kitchen'">
            <div class="row justify-content-between align-items-center">
              <div class="col-8 d-flex align-items-center text-left">
                <div class="pr-2">
                  <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1537094235017_cover3.png" style="height: 30px; width: 30px;" class="rounded" alt="Too Many Cooks" />
                </div>
                <div>
                  Too Many Cooks
                </div>
              </div>
              <div class="col-4">
                13 players
              </div>
            </div>
          </li>
          
        </ul>
      </div>
    </div>
    

    <div id="invite-players-card" class="card mt-2 pointer-events-all dark-bg p-0" style="width: 18rem; display: none;">
      <div class="card-body p-1 text-light">
        <div class="d-flex justify-content-between align-items-center p-1 border-bottom">
          <div>
            <span class="card-title my-1">Get More Players</span>
          </div>
          <div class="pb-1">
            <button onclick="closeInvitePlayersCard()" type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item p-2 border-top-0 bg-dark cursor-pointer">
            <button class="btn btn-primary btn-block" onclick="promoteGameOnFacebook()">
              <i class="fab fa-facebook mr-2"></i>
              <span>Share on Facebook</span>
            </button>
          </li>
          <li class="list-group-item p-2 border-top-0 bg-dark cursor-pointer">
            <button class="btn btn-info btn-block" onclick="promoteGameOnTwitter()">
              <i class="fab fa-twitter mr-2"></i>
              <span>Share on Twitter</span>
            </button>
          </li>
          <li class="list-group-item p-2 border-top-0 bg-dark cursor-pointer">
            <input class="form-control" type="text" disabled value="https://wwww.modd.io/play/two-houses">
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div id="mobile-chat-box" class="hide-on-computer pointer-events-none rounded p-2 invisible">
    <div id="chat-history" class="text-light hide-on-computer h-100 w-100"></div>
  </div>

  <span class="pointer-events-none ui-text-center-lg"></span>

  <!-- Help Modal -->
  <div class="modal" id="help-modal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h5 class="modal-title">
            Welcome to
            <span class="game-name"></span>
          </h5>

          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <!-- Modal Body -->
        <div class="modal-body">
          Move - WASD or Arrow Keys
          <br /> Turn / Spin - Mouse Movement
          <br /> Activate Item/Ability - Mouse Clicks
          <br /> Pick up item - Walk over it
          <br /> Drop item - G
          <!-- Last item - Q -->
        </div>

      </div>
    </div>
  </div>

  <!-- MODD item shop modal -->
  <div class="modal" id="modd-item-shop-modal" tabindex="-1" style='z-index:2050'>
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">
          <span id='modd-item-shop-header'>Item Shops</span>
          <button id='modd-item-shop-dismiss-button' type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>

        </div>

        <div class="modal-body">
          
          <div class="row hide-on-mobile">
            <div class="col text-center">
              <div id='modd-io_728x90_shop'>
                <script type='text/javascript'>
                  aiptag.cmd.display.push(function () { aipDisplayTag.display('modd-io_728x90_shop'); });
                </script>
              </div>
              <!-- <script>
                  (function (w, pid) {
                    var r = function (c, m) { c = c.split('').reduce(function (a, b) { return (a << 5) - a + b.charCodeAt(0) >>> m }, 0); return (10 + ((c * 7) % 26)).toString(36) + c.toString(36); }, y = r(w.location.href, 1), c = r(w.location.href + pid, 0);
                    w.document.write('<div style="overflow:hidden" class="' + c + '"></div>');
                    w[y] = w[y] || {}; (w[y].libcmd = w[y].libcmd || []).push({ kind: 'asynctagfetch', pid: pid, pindex: w.document.getElementsByClassName(c).length - 1 });
                  })(window, 78723);
              </script> -->
            </div>
          </div>
          
          <div class="container" id="item-shop-modal" style="margin-top: 1rem">
            <ul class="nav nav-tabs row item-shop-navbar">
              <li class="nav-item">
                <span class="nav-link active" id='unit' name="units" style="display: none;">Unit</span>
              </li>
              <li class="nav-item">
                <span class="nav-link" id='item' name="items" style="display: none;">Item</span>
              </li>
              
              <div style="position: fixed;right: 15px;">
                <span id="coin-icon"></span>
                <span class="h3 align-middle player-coins">
                  0
                </span>
              </div>
              
            </ul>
            <div class="row" style="margin-top: 20px">

              <div class="items-shop col">

              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- player input modal -->
  <div class="modal fade align-items-center" id="player-input-modal" tabindex="-1">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">

        <div class="modal-body">
          <div class="form-group">
            <label id="player-input-field-label">Email address</label>
            <input id="player-input-field" class="form-control">
          </div>

          <div class="row">
            <div class="col-sm-12 d-flex justify-content-end">
              <div id="player-input-cancel-container">
                <button type="button" id="player-input-cancel" class="btn pull-right">Cancel</button>
              </div>
              <div id="player-input-submit-container">
                <button type="button" id="player-input-submit" class="btn pull-right btn-primary ml-2">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- custom modal -->
  <div class="modal fade align-items-center" id="custom-modal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">
          <h4 class="modal-title"></h4>
          <button id='custom-modal-dismiss-button' type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div class="content"></div>
        </div>

        <div class="modal-footer">
          <div class="row">
            <div class="col-sm-12">
              <div id="custom-modal-cancel-container">
                <button type="button" data-dismiss="modal" id="custom-modal-cancel" class="btn pull-right">Close</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- dialogue modal -->
  <div class="modal" id="modd-dialogue-modal" tabindex="-1" style='z-index:9050' data-backdrop='static' data-keyboard='false'>
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="row row-eq-height">
            <div class="col-4 d-none" id="modd-dialogue-image-container">
              <img id="modd-dialogue-image" class="loading w-100 rounded" src="" alt="image">
            </div>

            <div class="col-12" id="modd-dialogue-message-container">
              <div class="d-flex flex-column h-100">
                <div class="flex-shrink-0 flex-grow-1 wrap-text">
                  <p id="modd-dialogue-message"></p>

                  <p class="position-absolute mb-0 text-muted d-none" id="modd-dialogue-skip-hint" style="bottom: 0; right: 15px;">
                    press enter/click to continue.
                  </p>
                </div>

                <div id="modd-dialogue-options-container">
                  <div id="modd-dialogue-options" class="w-100"></div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- MODD shop modal -->
  <div class="modal" id="modd-shop-modal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">

          <h5 class="modal-title align-middle">
            You have
            <span class="text-warning h3 player-coins">
              0
            </span> coins
          </h5>

          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>

        </div>

        <div class="modal-body">
          <div class="container">

            <div class="row">
              <div class="col-12">
                
                <div class="row mb-3 justify-content-center hide-on-mobile">
                  <div class="small-chest-button pointer-events-none coin-shop col-2 text-center pl-0 cursor-pointer" onclick="openChest('small', gameId)">
                    <div class="coin-offer-container w-100 text-center py-1">
                      <div class="coin-offer-ui" style="top:10px">
                        <img src="/assets/images/small-chest-closed.png" class="w-100 small-chest-image" alt="small_chest" />
                        <div class="coin-offer-text w-100" style="bottom:0px;position: absolute;">
                          <div class="small-chest-pre-message">
                            <p class="m-0">
                              <i class="fa fa-lock"></i>
                            </p>
                            <p class="m-0">
                              Locked for
                            </p>
                          </div>
                          <div class="w-100">
                            <p class="m-0">
                              <span class="small-chest-text coin-amount">5 Free Coins</span>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="big-chest-button pointer-events-none coin-shop col-2 text-center pl-0 cursor-pointer" onclick="openChest('big', gameId)">
                    <div class="coin-offer-container w-100 text-center py-3">
                      <div class="coin-offer-ui" style="top:10px">
                        <img src="/assets/images/big-chest-closed.png" class="w-100 big-chest-image" alt="big_chest" />
                        <div class="coin-offer-text w-100" style="bottom:0px;position: absolute;">
                          <div class="big-chest-pre-message">
                            <p class="m-0">
                              <i class="fa fa-lock"></i>
                            </p>
                            <p class="m-0">
                              Locked for
                            </p>
                          </div>
                          <div class="w-100">
                            <p class="m-0 w-100">
                              <span class="big-chest-text coin-amount"></span>
                            </p>
                            <p class="position-absolute w-100 hide-on-mobile">
                              <i class="fas fa-mobile-alt mr-1"></i>
                              Only
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-8 px-0">
                    <div class="coin-shop p-0">
    <div class="coin-offer-container btn-purchase-coins text-center py-3 mr-3" name="1.99">
        <div class="coin-offer-ui w-100 d-flex justify-content-center">

            <img src="/assets/images/coin-pack-1.png" class="w-100 mobile-img" style="top: 0;" alt="coin" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 2 days</div> -->
            </div>
            <div class="coin-price w-100">
                $1.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="4.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">

            <img src="/assets/images/coin-pack-2.png" class="w-100 mobile-img" alt="coin-pack-2" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">1,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 7 days</div> -->
            </div>
            <div class="coin-price w-100">
                $4.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="9.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-3.png" class="w-100 mobile-img" alt="coin-pack-3" />
            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">3,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 14 days</div> -->
            </div>

            <div class="coin-price w-100">
                $9.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 btn-purchase-coins" name="19.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-4.png" class="w-100 mobile-img" alt="coin-pack-4" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">8,000</span>
                        Coins
                    </p>
                </div>

                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 30 days</div> -->
            </div>

            <div class="coin-price w-100">
                $19.99
            </div>
        </div>
    </div>
</div>
                  </div>
                </div>
                
              </div>
            </div>

            <div class="col-12 p-0">
              <ul class="nav nav-tabs row shop-navbar">
                <li class="nav-item">
                  <span class="nav-link" id='unitSkins' name="unitSkins">Unit Skins</span>
                </li>
                <li class="nav-item">
                  <span class="nav-link" id='itemSkins' name="itemSkins">Item Skins</span>
                </li>
              </ul>
            </div>

            <div class="row" style="margin-top: 20px">
              <div class="col-sm-3 pl-0">
                <div class="shop-sidebar">
                </div>
                
                <div class="row text-center">
                  <div class="col">
                    <a class="btn btn-success btn-block" style="white-space: inherit;" target="_blank" href="/sandbox/game/two-houses/shop?new=true" role="button">
                      Submit your design
                    </a>
                  </div>
                </div>
                

                <div class="row my-4" id="disable-ads-shop">
                  <div class="col-12 mt-3">
                    <h5> Disable Ads ? </h5>
                    <small class="text-muted">Disable ads in all modd.io games</small>
                  </div>

                  <div class="col-12 my-3">
                    <button class="btn btn-outline-success btn-block d-flex align-items-center justify-content-center" onclick="selectDisableAdPackage(300)">
                      <img alt="coin" src="/assets/images/coin.png" style="width:15px; height: 15px" />
                      300
                      for 1 month
                    </button>
                  </div>
                </div>
              </div>
              <div class="col-9 pl-0">
                <div class="shop-items"></div>
              </div>
            </div>

            <div class="row" style="margin-top:10px">
              <div class="col-9 offset-3 p-0 d-flex justify-content-center">
                <div id="mod-shop-pagination">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- share modal -->
    
    <div style="background: rgba(0,0,0,0.6)" class="modal share-modal fade" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Share</h4>
          </div>
          <div class="modal-body">
            <h6>
              Before getting this free item, please support
              m0dE by sharing
              Braains.io on one of the following sites:
            </h6>
            <br>

            

            <center>	
	<a 
	    class="btn" 
	    style="background: #4267AA; color: white;"
	    href="#" 
	    onclick="shareOnFacebook(share.item, share.from, { url: share.url })"
	>
	    <span class="fa fa-facebook"></span> Facebook
	</a>
	<a 
		class="btn twitter-btn"
		style="background: #1DA1D2; color: white;"
	>
	    <span class="fa fa-twitter"></span> Twitter
	</a>
</center>

<script>
	var share = {
		url: "http://www.modd.io/play/two-houses",
		text: "Hilarious games at https://www.modd.io// LOL",
		item: JSON.parse('{}'),
		from: "shop-modal",
	};
	var fbUrl = share.url;
	var twitterUrl = "https://twitter.com/intent/tweet?url=share.url&text=" + share.text + "&hashtags=games,Modd.IO";

	$(document).ready(function() {
		$('a.twitter-btn').each(function(){ 
			$(this).attr("href", twitterUrl);
			$(this).data("from", share.from);
        });
	});
</script>

          </div>
        </div>
      </div>
    </div>
    
  </div>

  <!-- shopping modal -->
  <div class="modal" id="shop-modal" tabindex="-1">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">

          <h5 class="modal-title">
            You have
            <span class="text-warning h3 player-points"></span>
            <span class="game-currency"></span>
          </h5>

          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <!-- <img class="fb-share" alt="fb-share" style="cursor:pointer; z-index: 20000" src="https://d1wofkmqsniyp0.cloudfront.net/public/v2.0/imgs/fbshare.png"> -->

        </div>

        <div class="modal-body text-center">

        </div>

      </div>
    </div>
  </div>

  <!-- website modal -->
  <div class="modal" id="website-modal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document" style="max-width: 1280px;width: 100%;height: 80%;">
      <div class="modal-content h-100">
        <div class="modal-body h-100 p-2">
          <div class="content h-100">
            <iframe frameborder="0" class="h-100 w-100 border rounded"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- social share modal -->
  <div class="modal" id="social-share-modal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Tell your friends about this game</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-6">
              <button class="btn btn-primary btn-block" onclick="promoteGameOnFacebook()">
                <i class="fab fa-facebook mr-2"></i>
                <span>Share on Facebook</span>
              </button>
            </div>
            <div class="col-6">
              <button class="btn btn-info btn-block" onclick="promoteGameOnTwitter()">
                <i class="fab fa-twitter mr-2"></i>
                <span>Share on Twitter</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" id="purchasable-purchase-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Purchase Skin</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div class="purchasable-info-container"></div>

          <div class="coin-offers hide-on-mobile">
            <h4>
              Need more coins ?
            </h4>
            <hr />
            <div class="row my-4 d-flex justify-content-center">
              <div class="coin-shop p-0">
    <div class="coin-offer-container btn-purchase-coins text-center py-3 mr-3" name="1.99">
        <div class="coin-offer-ui w-100 d-flex justify-content-center">

            <img src="/assets/images/coin-pack-1.png" class="w-100 mobile-img" style="top: 0;" alt="coin" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 2 days</div> -->
            </div>
            <div class="coin-price w-100">
                $1.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="4.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">

            <img src="/assets/images/coin-pack-2.png" class="w-100 mobile-img" alt="coin-pack-2" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">1,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 7 days</div> -->
            </div>
            <div class="coin-price w-100">
                $4.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="9.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-3.png" class="w-100 mobile-img" alt="coin-pack-3" />
            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">3,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 14 days</div> -->
            </div>

            <div class="coin-price w-100">
                $9.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 btn-purchase-coins" name="19.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-4.png" class="w-100 mobile-img" alt="coin-pack-4" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">8,000</span>
                        Coins
                    </p>
                </div>

                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 30 days</div> -->
            </div>

            <div class="coin-price w-100">
                $19.99
            </div>
        </div>
    </div>
</div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-dismiss="modal">
            <i class="fa fa-times"></i> Cancel
          </button>
          <button class="btn btn-primary" onclick="purchaseSkin()">
            Purchase
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal absolute-vertical-center" id="disable-ad-modal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body">
          <div class="disable-ad-info-container"></div>

          <div class="coin-offers mt-4 hide-on-mobile">
            <h4>
              Need more coins ?
            </h4>
            <hr />
            <div class="row my-4 d-flex justify-content-center">
              <div class="coin-shop p-0">
    <div class="coin-offer-container btn-purchase-coins text-center py-3 mr-3" name="1.99">
        <div class="coin-offer-ui w-100 d-flex justify-content-center">

            <img src="/assets/images/coin-pack-1.png" class="w-100 mobile-img" style="top: 0;" alt="coin" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 2 days</div> -->
            </div>
            <div class="coin-price w-100">
                $1.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="4.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">

            <img src="/assets/images/coin-pack-2.png" class="w-100 mobile-img" alt="coin-pack-2" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">1,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 7 days</div> -->
            </div>
            <div class="coin-price w-100">
                $4.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 mr-3 btn-purchase-coins" name="9.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-3.png" class="w-100 mobile-img" alt="coin-pack-3" />
            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">3,500</span>
                        Coins
                    </p>
                </div>
                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 14 days</div> -->
            </div>

            <div class="coin-price w-100">
                $9.99
            </div>
        </div>
    </div>

    <div class="coin-offer-container text-center py-3 btn-purchase-coins" name="19.99">
        <div class="coin-offer-ui w-100  d-flex justify-content-center">
            <img src="/assets/images/coin-pack-4.png" class="w-100 mobile-img" alt="coin-pack-4" />

            <div class="offer-text-container">
                <div class="coin-offer-text w-100">
                    <p class="m-0">
                        <span class="coin-amount">8,000</span>
                        Coins
                    </p>
                </div>

                <div class="coin-offer-text coin-offer-no-ads-text w-100">&nbsp;</div>
                <!-- <div class="coin-offer-text coin-offer-no-ads-text w-100">no ads for 30 days</div> -->
            </div>

            <div class="coin-price w-100">
                $19.99
            </div>
        </div>
    </div>
</div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" data-dismiss="modal">
            <i class="fa fa-times"></i> Cancel
          </button>
          <button class="btn btn-primary" onclick="disableAd()">
            Disable Ad
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal absolute-center" tabindex="-1" id="confirm-purchase-modal" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light float-left" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-success float-right" id="confirm-purchase-button">Buy</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="leaderboard-modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Top 25 Highscores</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>

        <div class="modal-body" id='error-log-content'>
          <div class='mt-3'>
            <table class="table table-hover" style="border:1px solid #eceeef">
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  1
                </td>
                <td class="p-1 d-flex">
                  <div class="medal gold-medal"></div>
                  tehfau_4
                </td>
                <td class="p-1 text-right">
                  806,864
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  2
                </td>
                <td class="p-1 d-flex">
                  <div class="medal silver-medal"></div>
                  vigorouszing
                </td>
                <td class="p-1 text-right">
                  301,361
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  3
                </td>
                <td class="p-1 d-flex">
                  <div class="medal bronze-medal"></div>
                  yaboi
                </td>
                <td class="p-1 text-right">
                  217,617
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  4
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  nghiem123
                </td>
                <td class="p-1 text-right">
                  192,904
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  5
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  CanadaImpact
                </td>
                <td class="p-1 text-right">
                  189,508
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  6
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  mrshrekfan
                </td>
                <td class="p-1 text-right">
                  178,703
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  7
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  Cupcake12
                </td>
                <td class="p-1 text-right">
                  160,215
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  8
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  UsaiinBooolt
                </td>
                <td class="p-1 text-right">
                  142,044
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  9
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  MythZ
                </td>
                <td class="p-1 text-right">
                  141,463
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  10
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  EagleBoi
                </td>
                <td class="p-1 text-right">
                  134,906
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  11
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  boxnox900
                </td>
                <td class="p-1 text-right">
                  133,892
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  12
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  Golochynov
                </td>
                <td class="p-1 text-right">
                  133,109
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  13
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  523412
                </td>
                <td class="p-1 text-right">
                  131,933
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  14
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  cheatload
                </td>
                <td class="p-1 text-right">
                  125,167
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  15
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  NotHere
                </td>
                <td class="p-1 text-right">
                  121,010
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  16
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  Ziderich
                </td>
                <td class="p-1 text-right">
                  120,236
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  17
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  gu102
                </td>
                <td class="p-1 text-right">
                  116,618
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  18
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  gugageo123
                </td>
                <td class="p-1 text-right">
                  116,298
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  19
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  PinCoDe
                </td>
                <td class="p-1 text-right">
                  115,341
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  20
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  HIBOII
                </td>
                <td class="p-1 text-right">
                  115,001
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  21
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  nukegodking
                </td>
                <td class="p-1 text-right">
                  114,775
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  22
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  AlvinAlvin
                </td>
                <td class="p-1 text-right">
                  114,590
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  23
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  XxMABOIXx
                </td>
                <td class="p-1 text-right">
                  111,657
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  24
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  paotv
                </td>
                <td class="p-1 text-right">
                  105,735
                </td>
              </tr>
              
              <tr class="">
                <td class="p-1" style="width:5%;">
                  25
                </td>
                <td class="p-1 d-flex">
                  <div class="medal "></div>
                  tycjan123
                </td>
                <td class="p-1 text-right">
                  105,353
                </td>
              </tr>
              
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Invite Friends modal -->
  <div class="modal fade" id="invite-friends-modal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Invite Friends</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <span>
            Copy this URL and share it with your friends to invite them
          </span>
          <div class="form-group mt-4">
            <label>
              <strong>
                URL
              </strong>
            </label>
            <div class="input-group mb-3">
              <input type="text" id="invite-friends-modal-url" class="form-control" disabled>
              <div class="input-group-append">
                <button type="button" class="btn btn-outline-primary" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Copy" data-dismiss="modals" onclick="copyURL()">
                  <i class="fa fa-copy"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal absolute-center" tabindex="-1" id="disconnected-modal" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <h4>Disconnected</h4>
          <div id="disconnect-reason"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-success" id="reconnect-button" data-dismiss="modal">Reconnect</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="respawn-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>

          <h4>
            <span class="text-success">
              Hi
              <span class="player-name"></span>, you have
              <span class="text-warning h3 player-points" style="margin-right: 10px"></span>
              <span class="game-currency"></span>
              <a href="/logout" class="float-right btn btn-success">logout</a>
            </span>
          </h4>
        </div>

        <div class="modal-body row">

        </div>

      </div>
    </div>
  </div>

  <div class="modal fade" id="kick-players-outofgame-modal">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">

        <div class="modal-header text-center">
          <h5>Kick user</h5>
          <button type="button" class="close" data-dismiss="modal">
            <span aria-hidden="true">&times;</span>
            <span class="sr-only">Close</span>
          </button>
        </div>

        <div id='kick-player-body' class="modal-body" style="max-height: 600px;overflow-y: scroll;">

        </div>
      </div>
    </div>
  </div>

  <div class="alert alert-warning alert-dismissible" id='streaming-entity-warning' role="alert" style='display:none;left: 30%;right:30%;z-index: 99999;position: absolute;top:20px'>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    <strong>Warning!</strong> Your streaming entity count is too high. It should be less than 150
  </div>

  <div id="game-div" style="overflow: hidden;">

    <!-- overlay div for game suggetion  -->
    <div class="row white-bg container-fluid more-game-defualt" id="more-games" style="padding: 10px;">
      <button style="font-size:35px;position: absolute;top:7px;right:7px;z-index:10" id='close-game-suggestion' type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true"></span>
      </button>
      <div class="col-sm-12">
        <div class="row">
          <div class="col">
            <h6>Like
              Braains.io? Try these games!
            </h6>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-9" style="display:inline-flex">
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/rich-town" target="_blank " class="inherit-height" title="Rich Town - 10K">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-0'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1565408866456_Semttulo.png" style="width:100%;height:95px;" id='image-0' onerror="this.style.display='none';document.getElementById('div-0').style.display='block';console.log('called for div-0')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Rich Town - 10K
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/y6e2pbhTY" target="_blank " class="inherit-height" title="Small Garden 10k | New Map !">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-1'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1566387782488_as.PNG" style="width:100%;height:95px;" id='image-1' onerror="this.style.display='none';document.getElementById('div-1').style.display='block';console.log('called for div-1')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Small Garden 10k |
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/dojo" target="_blank " class="inherit-height" title="Taekwon.io: New Map!">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-2'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1560522460616_taekwoncoverimageupdated.png" style="width:100%;height:95px;" id='image-2' onerror="this.style.display='none';document.getElementById('div-2').style.display='block';console.log('called for div-2')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Taekwon.io: New Ma
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/braainsio" target="_blank " class="inherit-height" title="Metropolis For Nubs">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-3'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1565905694633_Yourparagraphtext(1).png" style="width:100%;height:95px;" id='image-3' onerror="this.style.display='none';document.getElementById('div-3').style.display='block';console.log('called for div-3')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Metropolis For Nub
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/kitchen" target="_blank " class="inherit-height" title="Too Many Cooks">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-4'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1537094235017_cover3.png" style="width:100%;height:95px;" id='image-4' onerror="this.style.display='none';document.getElementById('div-4').style.display='block';console.log('called for div-4')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Too Many Cooks
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/area-51" target="_blank " class="inherit-height" title="Area51 Stormers">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-5'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1564112441917_cover.png" style="width:100%;height:95px;" id='image-5' onerror="this.style.display='none';document.getElementById('div-5').style.display='block';console.log('called for div-5')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Area51 Stormers
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/FhO93ZJ5o" target="_blank " class="inherit-height" title="Death.Run">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-6'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1566162667008_Screenshot2019-08-18at1.png" style="width:100%;height:95px;" id='image-6' onerror="this.style.display='none';document.getElementById('div-6').style.display='block';console.log('called for div-6')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Death.Run
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
            <div class="p-2" id="game-samples" style="cursor:pointer;width:12.5%;">

              <a href="/play/SwordPVP" target="_blank " class="inherit-height" title="Fight Swords Ver 5.4">
                <div class="card game-card cursor-pointer itemscontainer">
                  <div class="" style="position: relative;">
                    <div class="game-overlay" id="game-overlay">
                    </div>
                    <div style="width:100%;height:90px;display:none;" id='div-7'></div>
                    <img src="https://modd.s3.amazonaws.com/asset/spriteImage/1565167289085_........png" style="width:100%;height:95px;" id='image-7' onerror="this.style.display='none';document.getElementById('div-7').style.display='block';console.log('called for div-7')" alt="currentGame.title" />
                  </div>
                  <div class="text-center" id="game-text">
                    <small style="font-size:12px;text-decoration:none !important;">
                      Fight Swords Ver 5
                    </small>
                  </div>
                </div>
              </a>
            </div>
            
          </div>
        </div>
      </div>
    </div>

    <div id="menu-wrapper" class="d-flex position-absolute">
      <div id='left-menu'
        class="col-lg-3 d-none flex-column d-xl-flex hide-on-mobile py-3"
        style="max-width: 320px"
      >
        
        <div id='user-div' class="flex-shrink-0 mb-3" style="box-shadow: 0 0 15px rgba(0,0,0,.5);">
          <div class="card">
            <div class="card-body" style="padding: 10px 1.25rem 10px 1.25rem;">
              <div class="d-flex justify-content-between">
                <div>
                  <a href='/user/nigga8254' target="_blank">
                    nigga8254
                  </a>
                </div>
                <a href="/logout">
                  <small>Logout</small>
                </a>
              </div>
              <div>
                <div class='player-coins'>
                  <img src="/assets/images/coin.png"/ style="height: 20px" alt="coins">
                  0
                </div>
              </div>
            </div>
          </div>
        </div>
        

        <div id='menu-div' class="flex-shrink-0 mb-3" style="box-shadow: 0 0 15px rgba(0,0,0,.5);">
          <ul class="list-group">

            <a href='/' class="list-group-item list-group-item-action">
              <i class="fas fa-home mr-2 text-center" style="width:20px"></i>
              <span>Browse Games</span>
            </a>

            
            <a href='#' class="list-group-item list-group-item-action open-modd-shop-button">
              <i class="fas fa-shopping-cart mr-2 text-center" style="width:20px"></i>
              <span>Shop</span>
            </a>
            

            <a href='/sandbox' class="list-group-item list-group-item-action">
              <i class="fas fa-wrench mr-2 text-center" style="width:20px"></i>
              <div class="d-inline">
                Make Games
              </div>
            </a>

            <a id='mod-this-game-menu-item' href='/sandbox/game/two-houses/scripts' class="list-group-item list-group-item-action d-block">
              <i class="fas fa-code mr-2 text-center" style="width:20px"></i>
              <div class="d-inline">
                MOD this game
              </div>
            </a>

            <a href='#' class="list-group-item list-group-item-action" onclick="$('#setting-modal').modal('show')" data-toggle="popover" data-placement="right" title="Low frame rate" data-trigger="manual" data-content="Your frame rate is low. Please try low resolution">
              <i class="fas fa-cog mr-2 text-center" style="width:20px"></i>
              <span>Settings</span>
            </a>

            <a href="https://www.patreon.com/moddio" target="_blank" role="button" class="list-group-item list-group-item-action">
              <i class="fab fa-patreon mr-2 text-center" style="width:20px"></i>
              <span>Support modd.io</span>
            </a>
          </ul>
        </div>

        
        <div id='friends-div' class="d-flex" style="box-shadow: 0 0 15px rgba(0,0,0,.5);">
          <script src="/assets/js/lib/autocomplete.min.js"></script>
<div class="card d-none flex-column flex-grow-1 rounded" id="friends-panel">
    <div class="card-body d-flex flex-column" style="padding: 10px 20px;">
        <div id='title-row' class="row flex-shrink-0">
            <div class="col-9">
                <h5>Friends</h5>
            </div>
            <div class="col-3">
                <button class="btn btn-primary btn-sm float-right" data-toggle="modal" data-target="#add-friends-modal">
                    <i class="fa fa-plus"></i> Add
                </button>
            </div>
        </div>
    
        <div id='tabs-row' class="mt-2 flex-shrink-0">
            <ul class="nav nav-tabs nav-fill">
                <li class="nav-item" onclick="changeFriendPanelTab('all')">
                    <a class="friend-panel-tab tab-all nav-link" href="#" style="padding: 3px">
                        <small>
                            <span class="mr-2">Online</span>
                            <span class="all-friends-count badge badge-primary"></span>
                        </small>
                    </a>
                </li>
                <li class="nav-item" onclick="changeFriendPanelTab('pending')">
                    <a class="friend-panel-tab tab-pending nav-link" href="#" style="padding: 3px">
                        <small>
                            <span class="mr-2">Pending</span>
                            <span class="pending-request-count badge badge-primary"></span>
                        </small>
                    </a>
                </li>
            </ul>
        </div>
    
        <div id="friends-panel-list" class="flex-grow-1 mt-2 text-dark" style="overflow-y: auto; font-size: smaller;">
    
        </div>
    </div>
</div>

<script>
    var allFriends = [];
    var pendingRequests = [];
    var currentTab = '';

    $.get('/api/user/friends')
        .then(function(data) {
            var incomingRequests = data.message.incomingRequests;
            var sentRequests = data.message.sentRequests;

            incomingRequests.forEach(function (request) {
                if (request.status === 'pending') {
                    pendingRequests.push(request.from);
                }
                else if (request.status === 'accepted') {
                    allFriends.push(request.from)
                }
            });

            sentRequests.forEach((request) => {
                if (request.status === 'accepted') {
                    allFriends.push(request.to)
                }
            });

            allFriends.sort(function(a, b) {
                return b.currentServers.length - a.currentServers.length;
            });

            allFriends.forEach(function (friend) {
                friend.local.username = friend.local.username.replace(/</g, '&lt;');
                friend.local.username = friend.local.username.replace(/>/g, '&gt;');
            });

            // rendering both panels because these functions are also responsible for rendering
            // the tabs that we have in game
            renderFriendTabInGame();
            renderPendingTabInGame();

            updateTabs();
            changeFriendPanelTab('all');
        });

    function updateTabs () {
        if (pendingRequests) {
            $('.pending-request-count').text(pendingRequests.length || '');
        }

        if (allFriends && allFriends.length) {
            var activeFriends = allFriends.filter(function (friend) {
                return friend.currentServers && friend.currentServers.length;
            });

            $('.all-friends-count').text(activeFriends.length || '');
        }
    }

    function renderAllFriendsPanel () {
        updateTabs();
        var friendListPanel = $('#friends-panel-list');
        var finalHtml = '';
        
        friendListPanel.html('');

        if (!allFriends || !allFriends.length) {
            finalHtml += 
                "<div class='pt-3 d-flex justify-content-center align-items-center flex-column'>" + 
                    "<div class='text-center text-muted'>" + 
                        "You don't any friends yet ;-; Add friends by pressing [Add friend] button above" +
                    "</div>" +
                "</div>";
        }
        else {
            allFriends.forEach(function (friend) {
                var gamesList = '';

                if (friend.currentServers && friend.currentServers.length) {
                    // temporary thing only, in future we will show list of all games
                    friend.currentServers = [friend.currentServers[0]];
                    gamesList = "<small>Playing: ";
                    friend.currentServers.forEach(function(server, index, array) {
                        var isLastElement = index === array.length - 1;
                        var url = '/play/' + server.gameSlug + '?server=' + server.id;

                        gamesList +=
                            "<a href='" + url + "'>" +
                                server.gameName +
                            "</a>" +
                            "<span>" + (isLastElement ? '' : ', ') + "</span>";
                    });
                    gamesList += "</small>";
                }

                finalHtml +=
                    '<div class="d-flex justify-content-between align-items-center mb-2">' + 
                        '<div class="col-12 pl-0">' +
                            '<div class="dropdown">' +
                                '<div class="cursor-pointer" id="dropdownMenuButton-' + friend._id + '" data-toggle="dropdown">' + friend.local.username + '</div>' +
                                '<div class="dropdown-menu" aria-labelledby="dropdownMenuButton-' + friend._id + '">' +
                                    '<a class="dropdown-item" href="/user/' + friend.local.username + '" target="_blank">View Profile</a>' +
                                    '<a class="dropdown-item unfriend-request" href="#" data-user-id="' + friend._id + '">Unfriend</a>' +
                                '</div>' +
                            '</div>' +
                            '<div class="position-relative ' + friend._id + '-game-list">' + gamesList + '</div>' +
                        '</div>' +
                    '</div>';
            });
        }

        friendListPanel.append($(finalHtml));
    }

    function renderPendingTabInGame() {
        var pendingList = $('#pending-list');
        var finalHtml = '';

        if (!pendingList) {
            return;
        }

        pendingList.html('');

        if (!pendingRequests || !pendingRequests.length) {
            finalHtml += "<div class='pt-3 text-center text-light'>You don't have any new friend requests.</div>";
        }
        else {
            pendingRequests.forEach(function (friend) {
                var gamesList = '';

                finalHtml +=
                    '<div class="border-bottom py-2 row mx-2 align-items-center">' +
                        '<div class="col-8 px-0"><a class="text-light" href="/user/' + friend.local.username + '" target="_blank">' + friend.local.username + '</a></div>' +
                            '<div class="col-4 px-0">' +
                                '<div class="btn-group btn-group-sm float-right" role="group">' +
                                    '<button type="button" class="accept-request btn btn-success" data-user-id="' + friend._id + '">' +
                                        '<i class="fa fa-check"></i>' +
                                    '</button>' +
                                    '<button type="button" class="reject-request btn btn-danger" data-user-id="' + friend._id + '">' +
                                        '<i class="fa fa-times"></i>' +
                                    '</button>' +
                                '</div>' +
                            '</div>' +
                        '</div>' +
                    '</div>';
            });
        }

        pendingList.append($(finalHtml));
    }

    function renderFriendTabInGame() {
        var friendList = $('#friends-list');
        var finalHtml = '';

        if (!friendList) {
            return;
        }

        friendList.html('');

        if (!allFriends || !allFriends.length) {
            finalHtml +=
                "<div class='pt-4 mt-3 d-flex justify-content-center align-items-center flex-column'>" +
                    "<div class='text-center text-light'>" +
                        "You don't any friends yet ;-; Add friends by pressing [Add friend] button above" +
                    "</div>" +
                "</div>";
        }
        else {
            allFriends.forEach(function (friend) {
                var gamesList = '';

                if (friend.currentServers && friend.currentServers.length) {
                    // temporary thing only, in future we will show list of all games
                    friend.currentServers = [friend.currentServers[0]];
                    gamesList = "<small>Playing: ";
                    friend.currentServers.forEach(function (server, index, array) {
                        var isLastElement = index === array.length - 1;
                        var url = '/play/' + server.gameSlug + '?server=' + server.id;

                        gamesList +=
                            "<a href='" + url + "' style='color: yellow'>" +
                                server.gameName +
                            "</a>" +
                            "<span>" + (isLastElement ? '' : ', ') + "</span>";
                    });
                    gamesList += "</small>";
                }

                finalHtml +=
                    '<div class="d-flex justify-content-between align-items-center mb-2">' +
                        '<div class="col-12 pl-0">' +
                            '<div class="dropdown">' +
                                '<div class="cursor-pointer text-light" id="dropdownMenuButton-' + friend._id + '" data-toggle="dropdown">' +
                                    friend.local.username +
                                '</div>' +
                                '<div class="dropdown-menu" aria-labelledby="dropdownMenuButton-' + friend._id + '">' +
                                    '<a class="dropdown-item" href="/user/' + friend.local.username + '" target="_blank">View Profile</a>' +
                                    '<a class="dropdown-item unfriend-request" href="#" data-user-id="' + friend._id + '">Unfriend</a>' +
                                '</div>' +
                            '</div>' +
                            '<div class="position-relative text-light ' + friend._id + '-game-list">' + gamesList + '</div>' +
                        '</div>' +
                    '</div>';
            });
        }

        friendList.append($(finalHtml));
    }

    function renderPendingRequestPanel() {
        updateTabs();
        var friendListPanel = $('#friends-panel-list');
        var finalHtml = '';
        
        friendListPanel.html('');

        if (!pendingRequests || !pendingRequests.length) {
            finalHtml += "<div class='pt-3 text-center text-muted'>You don't have any new friend requests.</div>";
        }
        else {
            pendingRequests.forEach(function (friend) {
                var gamesList = '';

                finalHtml +=
                    '<div class="border-bottom py-2 row mx-2 align-items-center">' +
                        '<div class="col-8 px-0"><a href="/user/' + friend.local.username + '" target="_blank">' + friend.local.username + '</a></div>' +
                        '<div class="col-4 px-0">' +
                            '<div class="btn-group btn-group-sm float-right" role="group">' +
                                '<button type="button" class="accept-request btn btn-success" data-user-id="' + friend._id + '">' +
                                    '<i class="fa fa-check"></i>' +
                                '</button>' +
                                '<button type="button" class="reject-request btn btn-danger" data-user-id="' + friend._id + '">' +
                                    '<i class="fa fa-times"></i>' +
                                '</button>' +
                            '</div>' +
                        '</div>' +
                    '</div>';
            });
        }

        friendListPanel.append($(finalHtml));
    }

    function changeFriendPanelTab (tabName) {
        if (currentTab === tabName) {
            return;
        }

        if (tabName === 'all') {
            $('.friend-panel-tab.tab-all').addClass('active');
            $('.friend-panel-tab.tab-pending').removeClass('active');
            renderAllFriendsPanel();
        }
        else {
            $('.friend-panel-tab.tab-all').removeClass('active');
            $('.friend-panel-tab.tab-pending').addClass('active');
            renderPendingRequestPanel();
        }

        currentTab = tabName;
    };

    function initListeners() {
        $('#friends-panel-list, #pending-list').on('click', '.accept-request', function(e) {
            var triggeringElement = $(e.currentTarget);
            var userId = triggeringElement.data().userId;
            
            triggeringElement.addClass('disabled');
            triggeringElement.html('<i class="fa fa-sync fa-spin"></i>')
            
            $.post('/api/user/request/' + userId + '/accept') 
            .then(function(data) {
                pendingRequests = pendingRequests.filter(function(pendingRequest) {
                    return pendingRequest._id !== userId;
                });

                allFriends.push(data.message);
                renderPendingRequestPanel();
                renderPendingTabInGame();
            });
        });

        $('#friends-panel-list, #pending-list').on('click', '.reject-request', function(e) {
            var triggeringElement = $(e.currentTarget);
            var userId = triggeringElement.data().userId;

            $.post('/api/user/request/' + userId + '/reject')
            .then(function() {
                pendingRequests = pendingRequests.filter(function(pendingRequest) {
                    return pendingRequest._id !== userId;
                });

                renderPendingRequestPanel();
                renderPendingTabInGame();
            });
        });

        $('#friends-panel-list').on('click', '.unfriend-request', function(e) {
            var triggeringElement = $(e.currentTarget);
            var userId = triggeringElement.data().userId;
            var name = '';

            for (var i=0; i<allFriends.length; i++) {
                if (allFriends[i]._id === userId) {
                    name = allFriends[i].local.username;
                }
            }

            swal({
                title: 'Are you sure?',
                text: "You want to unfriend " + name + " ?",
                type: 'warning',
                showCancelButton: true,
                confirmButtonText: 'Yes'
            }).then((result) => {
                if (result.value) {
                    $.post('/api/user/request/' + userId + '/unfriend')
                    .then(function() {
                        allFriends = allFriends.filter(function(friendRequest) {
                            return friendRequest._id !== userId;
                        });
            
                        renderAllFriendsPanel();
                    });
                }
            })
        });
    }

    function initTypeahead() {
        $("#add-friend-typeahead").typeahead({
            items: 10,
            minLength: 3,
            delay: 200,
            fitToElement: true,
            afterSelect: function(selectedUser) {
                $('#add-friend').removeClass('disabled');
                $('#add-friend-typeahead').data({
                    userId: selectedUser._id
                });
            },
            displayText: function (item) { return item.local.username },
            source: function(query, callback) {
                $('#add-friend').addClass('disabled');
                $.get("/api/user/searchUsers?username=" + query)
                .then(function(data) {
                    callback(data.message || []);
                });
            }
        });
    }

    $(document).ready(function() {
        initTypeahead();
        initListeners();
    });
</script>
        </div>
        
      </div>

      <div id='right-menu' class="col-xl-9 col-12 d-flex justify-content-center align-items-center">
        <div class="w-100">
          <h1 class="text-center game-title">
          </h1>
          
          <div class="row flex-grow-0 menu-row margin-auto justify-content-center">
            
            <div id="menu-column-left-container" style="min-width: 235px;">
              <div class="white-bg" style="box-shadow: 0 0 15px rgba(0,0,0,.5);">
                <div class="mb-2 d-flex justify-content-between">
                  <span><b>Earn Free Coins!</b></span>
                  <span><a href="#" id="shopbutton" class="d-none open-modd-shop-button">Open Shop</a></span>
                </div>
                <div class="row mb-3 justify-content-center">
                  <div class="small-chest-button pointer-events-none coin-shop col-6 text-center px-2 cursor-pointer" onclick="openChest('small', gameId)" style="height: 125px;">
                    <div class="coin-offer-container w-100 text-center py-1 py-md-2" style="background-color: #d2d2d2">
                      <div class="w-100 h-100 menu-small-chest-image" style="background: url(/assets/images/small-chest-closed.png) 50% 100% / contain; background-repeat: no-repeat;">
                        <span class="badge badge-warning">+5 Coins</span>
                        <div class="coin-offer-text mb-2 w-100" style="bottom:0px; position: absolute;">
                          <div class="small-chest-pre-message">
                            <p class="m-0">
                              <i class="fa fa-lock"></i>
                            </p>
                            <p class="m-0">
                              Locked for
                            </p>
                          </div>
                          <div class="w-100">
                            <p class="m-0">
                              <span class="menu-small-chest-text coin-amount"></span>
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="big-chest-button pointer-events-none coin-shop col-6 text-center px-2 cursor-pointer" onclick="openChest('big', gameId)" style="height: 125px;">
                    <div class="coin-offer-container w-100 text-center py-1 py-md-2" style="background-color: #d2d2d2">
                      <div class="w-100 h-100 menu-big-chest-image" style="background: url(/assets/images/big-chest-closed.png) 50% 100% / contain; background-repeat: no-repeat;">
                        <span class="badge badge-warning">+10 Coins</span>
                        <div class="coin-offer-text mb-2 w-100" style="bottom:0px;position: absolute;">
                          <div class="big-chest-pre-message">
                            <p class="m-0">
                              <i class="fa fa-lock"></i>
                            </p>
                            <p class="m-0">
                              Locked for
                            </p>
                          </div>
                          <div class="w-100">
                            <p class="m-0 w-100">
                              <span class="menu-big-chest-text coin-amount"></span>
                            </p>
                            <p class="mt-2 mb-0 w-100 hide-on-mobile">
                              <i class="fas fa-mobile-alt mr-1"></i>
                              Only
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="d-none row mb-3">
                  <div class="col px-2">
                    <button class="btn btn-danger btn-block" onclick="ige.ad.play()">
                      <i class="fas fa-play"></i>
                      Watch an ad

                      <span class="badge badge-warning ml-3">+5 Coins</span>
                    </button>
                  </div>
                </div>
                <div class="row">
                  <div class="col p-0 pl-2">
                    <div class="fb-like" data-href="https://www.facebook.com/braainsio/?ref=gs&amp;__tn__=%2CdkC-R-R&amp;eid=ARDc7CJKjEGNS1qZizLT3G9a4siAgDi4pxRfXewymMXPNyDyGh1-lcx_vtGFZGKRIWvoLFEcKm2hsqzD&amp;hc_ref=ARSUIFqLy6_CxWwoVfu3N6AA1jyKlCxbQeI4lwwdynwtfzqcps6J6WMtUZhUo21DMAA&amp;fref=gs&amp;dti=228903937871643&amp;hc_location=group" data-width="" data-layout="button_count" data-action="like" data-size="large" data-show-faces="true" data-share="false">
                    </div>
                  </div>
                  <div class="col p-0 text-right pr-2">
                    <a href="https://twitter.com/bboym0dE?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-show-count="false" data-show-screen-name="false">Follow</a>
                    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                  </div>
                </div>
              </div>
            </div>
            
            
            <div id="menu-column-main-container" class="pl-3" style=";">
              <div id="menu-column-main">
                <div class="white-bg">
                  <div id="menu-form">

                    <div class="float-left small" id="login-error-message"></div>

                    
                    <div class="hide-on-mobile">

                      
                      <strong>Braains.io</strong>
                      by
                      <a href="/user/m0dE" target="_blank">m0dE</a>
                      
                    </div>

                    <div class="pr-3 mt-1 hide-on-mobile" style="overflow-y: auto; max-height: 200px; margin-bottom: 15px;">
                      
                      <b>How to play</b>
<br />
W, A, S, D to move
Use mouse to spin
<br /><a href="http://www.braains2.io">
Did you know Braains 2 was out?!</a>
                      
                    </div>
                    

                    <!-- Server List -->
                    <div class="form-group row server-list-container d-none my-2">
                      <label for="server" class="col-2 col-form-label hide-on-mobile">Server: </label>
                      <div id="server-dropdown-container" class="col-10">
                        <select id="server-list" game-slug="two-houses" class="form-control form-control-sm custom-select" value="sr1ukImYTawvqwH3g0x7FzR4">
                          

                          
                          <option id="server-option-0" owner="59219d1852bf2a167508cc4c" player-count="20" max-players="50" data-url="wss://brazil-2.modd.io:443" value="sr1ukImYTawvqwH3g0x7FzR4">
                            (
                            20 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-1" owner="59219d1852bf2a167508cc4c" player-count="39" max-players="50" data-url="wss://eu-2.modd.io:443" value="02P2Fkxe6SLfDoHjsR0msBHS">
                            (
                            39 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-2" owner="59219d1852bf2a167508cc4c" player-count="46" max-players="50" data-url="wss://brazil-1.modd.io:443" value="WAwB62yZDBXvy4UnP5j01Xqb">
                            (
                            46 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-3" owner="59219d1852bf2a167508cc4c" player-count="42" max-players="50" data-url="wss://eu-1.modd.io:443" value="anLw5U09EMNCsuc8a1qXHclH">
                            (
                            42 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-4" owner="59219d1852bf2a167508cc4c" player-count="8" max-players="50" data-url="wss://useast-12.modd.io:443" value="pfYa8LThbDsq3Z9HvyKCIYDE">
                            (
                            8 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-5" owner="59219d1852bf2a167508cc4c" player-count="3" max-players="50" data-url="wss://asia-1.modd.io:443" value="NrzuZJcc6La3QVXdjShB8lRu">
                            (
                            3 /
                            50
                            )
                            
                          </option>
                          

                          
                          <option id="server-option-6" owner="59219d1852bf2a167508cc4c" player-count="0" max-players="50" data-url="wss://uswest-1.modd.io:443" value="gz65llQX29JShNmXUqAKOvre">
                            (
                            0 /
                            50
                            )
                            
                          </option>
                          
                        </select>
                      </div>
                    </div>

                    <script>
                      // fetch server ip array from EJS to JS
                      var serverIPString = "brazil-2,eu-2,brazil-1,eu-1,useast-12,asia-1,uswest-1";
                      var serverIPs = serverIPString.split(',');

                      function separate(str) {
                        var alphabets = '';
                        var numbers = '';
                        var chars = str.split('');
                        var numberRegex = /[0-9]/;

                        // get number segment from end
                        while (chars.length) {
                          var char = chars[chars.length - 1];

                          if (numberRegex.test(char)) {
                            numbers = char + numbers;
                            chars.pop();
                          }
                          else {
                            break;
                          }
                        }

                        return {
                          alphabets: chars.join(''),
                          numbers: numbers,
                        };
                      }

                      serverIPs.forEach(function (serverIP, index) {
                        var separated = separate(serverIP);
                        var optionText = separated.alphabets + ' ' + separated.numbers;
                        var optionId = 'server-option-' + index;

                        document.getElementById(optionId).innerHTML = optionText + document.getElementById(optionId).innerHTML;
                      });
                    </script>

                    
                    
                    <div id="mobile-logout-button" class="d-none text-center small">
                      Logged in as nigga8254
                      <a class="mt-2" href="/logout?redirect=/play/two-houses">
                        (Logout)
                      </a>
                    </div>

                    <button type="button" id="play-game-button" class="progress-button btn-block p-0 mb-my-2 mt-1 d-none" data-style="rotate-side-down" data-perspective data-horizontal>
                      <div class="bg-success rounded">
                        <i class="fa fa-gamepad pr-2 py-3" aria-hidden="true"></i>
                        Play Game
                      </div>
                    </button>
                    
                    

                    
                    <div class="text-center smaller-font mt-1">
                      <span>By clicking "Play Game", you agree to our
                        <a target='_blank' href="https://www.modd.io/agreement/tos">Terms</a> and
                        <a target='_blank' href="https://www.modd.io/agreement/pp">Policy</a>
                      </span>
                    </div>
                    
                  </div>

                  <!-- Footer -->
                  <!-- margin bottom will ensure that the social media button div has good amount of space -->
                  
                  <div class="container social-media-buttons d-block hide-on-mobile" style="margin-top: 15px">
                    <div class="d-flex justify-content-center mt-1 mb-2">
                      
                    </div>

                    <div class="row justify-content-center">
                      
                      <div class="w-auto mx-1 mb-2">
                        <a href="https://discord.gg/StD2u3Y" target="_blank" role="button" class="btn btn-default btn-block discord-button d-flex align-items-center justify-content-center text-light">
                          <i class="fab fa-discord fa-lg"></i>
                        </a>
                      </div>
                      

                      
                      <div class="w-auto mx-1 mb-2">
                        <a href="https://twitter.com/moddio" target="_blank" role="button" class="btn btn-default btn-block twitter-button d-flex align-items-center justify-content-center text-light">
                          <i class="fab fa-twitter-square fa-lg"></i>
                        </a>
                      </div>
                      
                      
                      <div class="w-auto mx-1 mb-2">
                        <a href="https://www.youtube.com/channel/UCNYig4aLGsXPhgHe6Ydvm3A?view_as=subscriber" target="_blank" role="button" class="btn btn-default btn-block youtube-button d-flex align-items-center justify-content-center text-light">
                          <i class="fab fa-youtube fa-lg"></i>
                        </a>
                      </div>
                      

                      <button type="button" class="btn btn-sm btn-outline-danger w-auto mx-1 mb-2 smaller-font" data-toggle="modal" data-target="#contact-us-modal">
                        <i class="fa fa-envelope mr-1" aria-hidden="true"></i>
                        Facing issues?
                      </button>
                      <br/>
                      <a href="https://www.modd.io" target="_window" class="text-center mt-3 btn btn-sm btn-outline-primary">
                        This game was created using modd.io
                      </a>

                    </div>
                  </div>
                  
                  <!-- footer -->

                </div>
              </div>
            </div>

            
            <div class="pl-3" id="menu-column-right-container" style=";">
              <div id="menu-column-left" class="d-none d-md-block bg-white rounded p-3" style="max-width: 235px; width: 235px;">
                <div class="mb-2 d-flex justify-content-between">
                  <span><b>Newest Skins</b></span>
                  <span><a href="#" class="open-modd-shop-button">Show more</a></span>
                </div>

                <!-- <div>
                  <span>You have </span>
                  <img src="/assets/images/coin.png" style="width:15px; height: 15px" alt="coin" />
                  <span class="align-middle player-coins">
                    0,
                  </span>
                  <span> <a href="#" class="open-modd-shop-button">Want more</a> ?</span>
                </div> -->

                <div id="loading-skins">
                  <div class="alert alert-info text-center mt-3">
                    <span class="fa fa-sync fa-spin mr-2"></span>
                    Loading Skins...
                  </div>
                </div>

                <div id="skins-list" class="d-none justify-content-center py-2"></div>

                <!-- <small class="text-muted mt-2">
                  Note: You can use your purchased skin from <a href="#" class="cursor-pointer open-modd-shop-button">Shop</a>.
                </small> -->
              </div>
            </div>
            
          </div>
        </div>
      </div>
      
        <div class="p-2 rounded white-bg m-2 hide-on-mobile" style="position: fixed; bottom: 0; right: 0; font-size: .8em">
          <a href="https://iogames.space">More IO Games</a>
        </div>              
      
    </div>


  </div>

  <div id="tracker"></div>
  <div class="text-danger absolute-center h4 blink text-center" id="reloading-message">Reloading</div>

  <!-- Counter -->
  <!-- removing class bcz to show text in mobile
          class="game-ui" -->
  <div class="game-ui user-select-none" id="unit-status">
    <div class="" id='inventory-slots-key-stroke' role="group" aria-label="Justified button">
    </div>
    <div id='inventory-slots' role="group" aria-label="Justified button group" style="margin-bottom:5px;">
    </div>
    <div id="attribute-bars" style="margin-left:2px;margin-right:2px;">
    </div>
  </div>

  <div id="dev-console" style="display:none">
    <div id="dev-console-table" class="game-ui dark-bg" style="text-align: right;padding:5px;">
      <div class="col-sm-12">
        <h6 style="color:white;z-index: 9999;"> Developer Console</h6>
      </div>
      <div class="col-sm-12">
        <button class='btn btn-danger btn-sm' id='dev-error-button' style="z-index: 9999;">Errors (0)</button>
        <button class="btn btn-primary btn-sm" id='bandwidth-usage' style="z-index:9999;">Status</button>
        <button class='btn btn-info btn-sm' id='add-player-instance' style="z-index: 9999;">Add player</button>
      </div>
    </div>

    <div class="col-sm-12">
      <table id="variables-table" style="text-align: right;padding:5px;">
      </table>
    </div>
  </div>
  <div id="leaderboard" class="position-absolute text-white d-none user-select-none">
    <!-- Server ID: <span id="server-id"></span> -->
    <div class="shop ui-text-scoreboard">
    </div>

    <span id='scoreboard-header'>
      <u id="leaderboard-title" class="cursor-pointer" onclick="ige.scoreboard && ige.scoreboard.toggleScores()">Leaderboard</u>
      <div id="leaderboard-toggle" style='display:inline;' class="pull-right"></div>
    </span>
    <div id="scoreboard" class="pull-right" style="padding: 10px 19px 0px 0px"></div>
  </div>

  <div id="trade-request-div" class="dark-bg absolute-center">
    <div>
      <span id="requested-by" style="display:none"></span>
      <span id="trade-request-message"></span>
    </div>
    <div class="text-center" style="margin-top: 10px">
      <span class="btn btn-success" id="accept-trade-request-button">Yes</span>
      <span class="btn btn-light cancel-trade-request-button">No</span>
    </div>
  </div>
  <!--
      <div id="trade-busy-div" class="dark-bg absolute-center">
        <div>
          <span class="trader-name"></span> is busy
        </div>
        <div class="text-center">
          <span class="btn btn-light" id="close-trade-busy-button">Close</span>
        </div>
      </div>
 -->

  <!-- trade commented out -->
  <div id="trade-div" class="dark-bg absolute-center">
    <span id="trader-name"></span>'s offer
    <div>
      <div id="offer-1" class="btn btn-light trade-offer-slot"></div>
      <div id="offer-2" class="btn btn-light trade-offer-slot"></div>
      <div id="offer-3" class="btn btn-light trade-offer-slot"></div>
      <div id="offer-4" class="btn btn-light trade-offer-slot"></div>
      <div id="offer-5" class="btn btn-light trade-offer-slot"></div>
    </div>

    <br />
    <br /> Your offer
    <div id="user-trading-slots">
      <!-- <div id="item-13" name='13' class="btn btn-light inventory-slot"></div>
      <div id="item-14" name='14' class="btn btn-light inventory-slot"></div>
      <div id="item-53" name='53' class="btn btn-light inventory-slot"></div>
      <div id="item-54" name='54' class="btn btn-light inventory-slot"></div>
      <div id="item-55" name='55' class="btn btn-light inventory-slot"></div> -->
    </div>

    <br />
    <br />
    <small id="trade-message" class="float-left"></small>
    <div class="float-right">
      <span class="btn btn-success" id="accept-trade-button">Accept</span>
      <span class="btn btn-light cancel-trade-button">Cancel</span>
    </div>
  </div>


  <div id="inventory" class="dark-bg">
    <h3>
      Inventory
    </h3>
    <div id="extra-inventory-items-div" class="row d-flex justify-content-center">
    </div>
    <!-- <div style="margin-top: 4px">
        <div id="item-4" name='4' class="btn btn-light inventory-slot"></div>
        <div id="item-5" name='5' class="btn btn-light inventory-slot"></div>
        <div id="item-6" name='6' class="btn btn-light inventory-slot"></div>
      </div>
      <div style="margin-top: 4px">
        <div id="item-7" name='7' class="btn btn-light inventory-slot"></div>
        <div id="item-8" name='8' class="btn btn-light inventory-slot"></div>
        <div id="item-9" name='9' class="btn btn-light inventory-slot"></div>
      </div>
      <div style="margin-top: 4px">
        <div id="item-10" name='10' class="btn btn-light inventory-slot"></div>
        <div id="item-11" name='11' class="btn btn-light inventory-slot"></div>
        <div id="item-12" name='12' class="btn btn-light inventory-slot"></div>
      </div> -->
  </div>
  <a href="#" id="open-inventory-button" class="btn btn-success float-right" style="margin-left: 20px;display:none;position:fixed;right:10px;"><i class="glyphicon glyphicon glyphicon-user"></i> Inventory</a>
  <div id="my-score-div" class="game-ui dark-bg  score-div  d-block user-select-none">
    <span id="players-attribute-div">
    </span>

    <span id="item-info-div">
      <span id='item-name'></span>
      <span id='item-ammo'></span>
    </span>
  </div>


  <!-- chat panel -->
  <div class="absolute-center" id="chat-input-field-div" style="width:21%">
    <div class="form-group" id='chat-message-input'>
      <div class="input-group d-flex justify-content-center">
        <form onsubmit="ige.chat.sendChatMessage(); return false">
          <input type="text" class="form-control btn-sm" id="message" placeholder="Press Enter to send the message" />
        </form>
        <div class="input-group-append" onclick="ige.chat.sendChatMessage()">
          <button class="btn btn-secondary" type="button">
            <i class="fa fa-comment"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div id="chat-box" class="game-ui p-2" style="bottom: 0;display: none;">
    <div id="chat-tab-container" class="hide-on-mobile d-flex flex-column">
      <ul id="tabs" class="nav nav-pills">
        <li class="nav-item">
          <a class="nav-link active" id="pills-chat-tab" data-toggle="pill" href="#pills-chat" role="tab" aria-controls="pills-chat" aria-selected="true">Chat</a>
        </li>
        <li class="nav-item" onclick="renderFriendTabInGame();">
          <a class="nav-link" id="pills-friends-tab" data-toggle="pill" href="#pills-friends" role="tab" aria-controls="pills-friends" aria-selected="false">
            Friends
            <span class="all-friends-count badge text-dark" style="background: yellow"></span>
          </a>
        </li>
        <li class="nav-item" onclick="renderPendingTabInGame();">
          <a class="nav-link" id="pills-pending-tab" data-toggle="pill" href="#pills-pending" role="tab" aria-controls="pills-pending" aria-selected="false">
            Pending
            <span class="pending-request-count badge text-dark" style="background: yellow"></span>
          </a>
        </li>
        
        <li class="nav-item">
          <a id="hide-chat" class="cursor-pointer hide-on-mobile nav-link" style="position: absolute; right: 0;">
            Hide
          </a>
        </li>
        
      </ul>
      <div class="tab-content flex-grow-1 d-flex" style="background-color: rgba(0, 0, 0, 0.5); border-radius: 0px 5px 5px 5px;">
        <div class="tab-pane fade show active w-100" id="pills-chat" role="tabpanel" aria-labelledby="pills-chat-tab">
          <div class="h-100 w-100 p-3">
            <div id="chat-history" class="hide-on-mobile h-100"></div>
          </div>
        </div>
        <div class="tab-pane fade w-100 position-relative" id="pills-friends" role="tabpanel" aria-labelledby="pills-friends-tab">
          <button class="btn btn-default btn-sm position-absolute" style="top: 10px; right: 25px; z-index: 1;" data-toggle="modal" data-target="#add-friends-modal">
            <i class="fa fa-plus"></i>Add Friend
          </button>
          <div id="friends-list" class="p-3 h-100 w-100 text-dark flex-grow-1">

          </div>
        </div>
        <div class="tab-pane fade w-100" id="pills-pending" role="tabpanel" aria-labelledby="pills-pending-tab">
          <div id="pending-list" class="p-3 h-100 w-100 text-dark flex-grow-1">

          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="show-chat" class="btn btn-success d-none">
    <i class="fa fa-comment mr-1"></i>
    Show Chat
  </div>
  <!-- chat panel -->

  </div>

</body>


<script crossorigin="anonymous" type="text/javascript" src='https://code.jquery.com/ui/1.12.1/jquery-ui.min.js'></script>

<script>
  var mode = 'play';
  var gameId = '5a7fd59b1014dc000eeec3dd'
  var gameSlug = 'two-houses'
  var tier = '4'
  var adblockMessage = $('.adblock-message-container');
  var assetsProvider = '';
  var timers = JSON.parse(htmlDecode("{&#34;smallChest&#34;:0,&#34;bigChest&#34;:0}"));
  var gameDetails = JSON.parse(htmlDecode("{&#34;name&#34;:&#34;Braains.io&#34;,&#34;tier&#34;:&#34;4&#34;,&#34;gameSlug&#34;:&#34;two-houses&#34;,&#34;creator&#34;:{&#34;name&#34;:&#34;m0dE&#34;,&#34;_id&#34;:&#34;59219d1852bf2a167508cc4c&#34;},&#34;patchNotes&#34;:&#34;&#34;,&#34;redirectLink&#34;:{&#34;android&#34;:&#34;https://play.google.com/store/apps/details?id=com.jaeyunnoh.braainsio&#34;,&#34;ios&#34;:&#34;https://itunes.apple.com/us/app/braains-io/id1177022124?mt=8&#34;},&#34;moreIoGames&#34;:true,&#34;cover&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1534146662018_cover.png&#34;,&#34;access&#34;:&#34;public&#34;}"));
  var purchasables = JSON.parse(htmlDecode("[{&#34;_id&#34;:&#34;5d596b0afedeb4290137f799&#34;,&#34;name&#34;:&#34;Grafitti Taro&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566141195100_pixil-frame-0(7)copy27.png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5c7be55694753e48d3a3bce5&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:25,&#34;updatedAt&#34;:&#34;2019-08-19T03:05:41.897Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T15:13:14.553Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d596afdbd2bdf2b853f51a9&#34;,&#34;name&#34;:&#34;TURKSH WIZARD&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566141147963_pixil-frame-0(1).png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5d0a1ce197a1255a05920280&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:50,&#34;updatedAt&#34;:&#34;2019-08-19T03:05:46.405Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T15:13:01.499Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d591cd71301b5167cc27b2f&#34;,&#34;name&#34;:&#34;Traveler&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566121137137_taro-1.png(3).png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5d1b87e6a7f444113f9fbed6&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:115,&#34;updatedAt&#34;:&#34;2019-08-18T09:54:34.449Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T09:39:35.146Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d58c9b86fb33c69467ee60a&#34;,&#34;name&#34;:&#34;Wizard Eua&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566099924670_Brazil_Wizard(1).png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5bbe41140d3727000fc74dcf&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:30,&#34;updatedAt&#34;:&#34;2019-08-18T03:46:14.101Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T03:44:56.022Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d58c8f8f0cb2c067a12e9a5&#34;,&#34;name&#34;:&#34;Zombie Aang the Avatar&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566099824923_time2-1.png.png&#34;,&#34;description&#34;:&#34;i put hard in this and Hi!&#34;,&#34;owner&#34;:&#34;5cc7be0aedbd86076d174c3f&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:50,&#34;updatedAt&#34;:&#34;2019-08-18T03:45:23.950Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T03:41:44.844Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;zombie&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d58c0bc74464a0c6aefdaa9&#34;,&#34;name&#34;:&#34;Wizard Br&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566097866983_Brazil_Wizard.png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5bbe41140d3727000fc74dcf&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:25,&#34;updatedAt&#34;:&#34;2019-08-18T03:43:35.647Z&#34;,&#34;createdAt&#34;:&#34;2019-08-18T03:06:36.726Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d588b5371f47d7dc1a17851&#34;,&#34;name&#34;:&#34;Rich Noob&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566083905241_pixil-frame-0(2).png&#34;,&#34;description&#34;:&#34;by -food54-&#34;,&#34;owner&#34;:&#34;5b1c3f2f5f2f810162b997f8&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:50,&#34;updatedAt&#34;:&#34;2019-08-18T03:43:41.043Z&#34;,&#34;createdAt&#34;:&#34;2019-08-17T23:18:43.705Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d58812056c90c75bc43b361&#34;,&#34;name&#34;:&#34;Roman Zombie Warrior&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566081296812_pixil-frame-0.png&#34;,&#34;description&#34;:&#34;by -food54-&#34;,&#34;owner&#34;:&#34;5b1c3f2f5f2f810162b997f8&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:15,&#34;updatedAt&#34;:&#34;2019-08-18T01:42:06.164Z&#34;,&#34;createdAt&#34;:&#34;2019-08-17T22:35:12.068Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;zombie&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d585ce37691de6448d20d8b&#34;,&#34;name&#34;:&#34;Splitter&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566071927241_splitter.png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;59672409e63a8d400c4966c5&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:199,&#34;updatedAt&#34;:&#34;2019-08-18T01:42:07.659Z&#34;,&#34;createdAt&#34;:&#34;2019-08-17T20:00:35.514Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;human&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]},{&#34;_id&#34;:&#34;5d5851787691de6448d20cb6&#34;,&#34;name&#34;:&#34;H4ack3d 4st0nau1&#34;,&#34;type&#34;:&#34;skin&#34;,&#34;image&#34;:&#34;https://modd.s3.amazonaws.com/asset/spriteImage/1566069110779_pixil-frame-0(7)copy26.png&#34;,&#34;description&#34;:&#34;&#34;,&#34;owner&#34;:&#34;5c7be55694753e48d3a3bce5&#34;,&#34;__v&#34;:0,&#34;isApproved&#34;:true,&#34;price&#34;:10,&#34;updatedAt&#34;:&#34;2019-08-17T19:14:16.366Z&#34;,&#34;createdAt&#34;:&#34;2019-08-17T19:11:52.101Z&#34;,&#34;soldForSocialShare&#34;:false,&#34;target&#34;:{&#34;entityType&#34;:&#34;unit&#34;,&#34;key&#34;:&#34;zombie&#34;},&#34;games&#34;:[&#34;5a7fd59b1014dc000eeec3dd&#34;]}]"));
  var creator = 'm0dE';
  var noAds = false;
  var isGSConnectionCheckerStarted = false;
  var userId = '5d5d4ecfdd1b9e2bd37ba9db'
  var sessionId = 'VFa6LlAWjjhz2Cpr9QIk8mmcwcsXGd6L'
  var isLoggedIn = true;
  var userPurchases = null;

  window.joinGameSent = {};

  
    var user = {
      _id: '5d5d4ecfdd1b9e2bd37ba9db',
      coins: 0,
      local: {
        username: 'nigga8254',
        email: '',
      }
    };
  
  var playGameButton = document.getElementsByClassName('progress-button')[0];
  var changeServerButton = document.getElementById('change-server');
  var serverList = document.getElementById('server-list');

  function setupTreasureChestTimers() {
    var smallChestInSeconds = timers.smallChest;
    var bigChestInSeconds = timers.bigChest;

    var smallChestTimer = setInterval(function () {
      smallChestInSeconds--;

      if (smallChestInSeconds <= 0) {
        clearInterval(smallChestTimer);
        $('.small-chest-button')
          .removeClass('pointer-events-none')
          .addClass('cursor-pointer');

        $('.small-chest-text').text('5 Free Coins');
        $('.menu-small-chest-text').text('Click here to open!');

        $('.small-chest-pre-message').addClass('d-none');
        return;
      }
      else {
        $('.small-chest-button')
          .removeClass('cursor-pointer')
          .addClass('pointer-events-none');
      }

      var text = toHHMMSS(smallChestInSeconds);
      $('.small-chest-text').text(text);
      $('.menu-small-chest-text').text(text);
    }, 1000);

    var bigChestTimer = setInterval(function () {
      bigChestInSeconds--;

      if (bigChestInSeconds <= 0) {
        clearInterval(bigChestTimer);
        $('.big-chest-button')
          .removeClass('pointer-events-none')
          .addClass('cursor-pointer');

        $('.big-chest-text').text('10 Free Coins');
        $('.menu-big-chest-text').text('Click here to open!');

        $('.big-chest-pre-message').addClass('d-none');
        return;
      }
      else {
        $('.big-chest-button')
          .removeClass('cursor-pointer')
          .addClass('pointer-events-none');
      }

      var text = toHHMMSS(bigChestInSeconds);
      $('.big-chest-text').text(text);
      $('.menu-big-chest-text').text(text);
    }, 1000);
  }

  function startProgressButton() {
    // show loading only if user has not selected the game already
    var speedThreshold = 0.85;
    var completionEffectValue = 0.98;

    var getNextProgressValue = function () {
      if (window.activatePlayGame) {
        if (progressButton.progressValue === completionEffectValue) {
          return 1;
        }
        else {
          return completionEffectValue;
        }
      }

      if (progressButton.progressValue >= speedThreshold) {
        return Math.min(progressButton.progressValue + Math.random() * 0.01, completionEffectValue);
      }
      else {
        return Math.min(progressButton.progressValue + Math.random() * 0.1, speedThreshold)
      }
    }

    if (playGameButton) {
      $(playGameButton).removeClass('d-none');

      window.progressButton = new ProgressButton(playGameButton, {
        callback: function (instance) {
          var jQueryButton = $(instance.button);
          var data = jQueryButton.data();
          var interval = setInterval(function () {
            var progress = getNextProgressValue();
            // console.log(progress);
            instance._setProgress(progress);

            if (progressButton.progressValue === 1) {
              instance._stop(1, true);
              clearInterval(interval);
              clearTimeout(window.refreshModalTimer);
            }
          }, 700);

          initRefreshTimer();

          jQueryButton.addClass('loading-mode');

          if (data && data.loadingText) {
            var textElem = $('#' + data.loadingText);

            if (textElem) {
              textElem.show();
            }
          }
        },
        preActiveMode: function (instance) {
          var jQueryButton = $(instance.button);
          var data = jQueryButton.data();

          jQueryButton.removeClass('loading-mode');
          $('.server-list-container').removeClass('d-none');

          // hide loading text
          if (data && data.loadingText) {
            var textElem = $('#' + data.loadingText);

            if (textElem) {
              textElem.hide();
            }
          }
        }
      });

      window.progressButton._startLoading();
    }
  }

  function initGSConnectionChecker() {
    setInterval(function () {
      var currentTimestamp = Date.now();
      var difference = currentTimestamp - window.lastGSMessageReceived;
      var threshold = 8000;

      if (difference > threshold) {
        $('#refresh-modal').modal('show');
      }
    }, 5000);
  }

  $(document).ready(function () {
    $('#invite-friends-modal-url').val(location.href);

    function bringDownUnitStatus() {
      $('#unit-status').css({ bottom: 0 });
    }

    if (noAds) {
      bringDownUnitStatus();
    }

    $('body').on('click', '[name=cpmstar_anchor_close_button]', function () {
      bringDownUnitStatus();
    });

    if (user && user._id) {
      $.post('/api/game-report/game-access/' + gameId + '/client-load-end', {
        user: user && user._id
      })
        .then(function () { }, function (xhr, status, error) {
          $.post('/api/log', {
            game: gameId,
            status: xhr.status,
            text: xhr.statusText
          });
        });
    }

    startProgressButton();

    if (user && user._id) {
      setupTreasureChestTimers();
    }

    
      window.onbeforeunload = function (event) {
        //show conformation when ever player is in the game else not
        // if (ige.client && ige.client.myPlayer && ige.client.myPlayer._stats.selectedUnitId) {
        //   if (!ige.client.disconnected) {
        //     return 'Changes you made may not be saved.';
        //   }
        // }
      };
    

      $('#purchasable-purchase-modal').on('shown.bs.modal', function () {
        displayPurchaseModal($(this));
      });

    $('#disable-ad-modal').on('shown.bs.modal', function () {
      displayDisableAdModal($(this));
    });
  });

  function initRefreshTimer() {
    window.refreshModalTimer = setTimeout(function () {
      $('#refresh-modal').modal('show');
    }, 15000);
  }

  function copyURL() {
    var modalBody = $('#invite-friends-modal .modal-body');
    var copyText = $("#invite-friends-modal-url").val();
    var el = document.createElement('textarea');

    el.value = copyText;
    modalBody.append(el);

    el.select();

    document.execCommand('copy');

    el.parentNode.removeChild(el);
  }

  function adBlockStatus(status) {
    if (status) {
      replaceAdsWithDiv()
    }
    else {
      // hide adblock
      adblockMessage.popover('hide');
    }
  }

  function replaceAdsWithDiv() {
    $('#300x250_adunit').html("Please disable your adblock, or this game will become inaccessible after 5 minutes");
    $('#banner-ad-horizontal').html("<div class='col'>Please disable your adblock, or this game will become inaccessible after 5 minutes</div>");
  }



  window.onerror = function (msg, url, line, col, error) {
    var obj = {
      msg: msg,
      url: url,
      line: line,
      col: col,
      error: error
    };

    if (tier !== '1' && creator === 'm0dE') {
      $.post('/api/log', {
        event: 'browser-error',
        gameId: gameId,
        msg: msg,
        url: url,
        line: line,
        col: col,
        error: error
      });
    }

    var suppressErrorAlert = false;
    // If you return true, then error alerts (like in older versions of
    // Internet Explorer) will be suppressed.
    return suppressErrorAlert;
  };

  function notifyAboutAdblocker() {
    //show adblock
    var adblockMessage = $('.adblock-message-container');
    setTimeout(function () {
      adblockMessage.popover('show')

      setTimeout(function () {
        // hide adblock
        adblockMessage.popover('hide')
      }, 6000);
    }, 2000)
  }


</script>

<script type="application/javascript">
  const gl = document.createElement('canvas').getContext('webgl2');
  if (!gl) {
    console.log('your browser/OS/drivers do not support WebGL2');
  } else {
    console.log('webgl2 works!');
  }

  function loadJS(file) {
    // DOM: Create the script element
    var jsElm = document.createElement("script");
    // set the type attribute
    jsElm.type = "application/javascript";
    // make the script element load file
    jsElm.src = file;
    // finally insert the element to the body element in order to load the script
    document.body.appendChild(jsElm);
  }
</script>


<!-- <script type="text/javascript" src="/assets/pixi/pixi-legacy.min.js?version=249"></script>
<script type="text/javascript" src="/assets/pixi/pixi-viewport.js?version=249"></script>
<script type="text/javascript" src="/assets/game-test.js?version=249"></script> -->
<script type="text/javascript" src="/assets/game.js?version=249"></script>



 <!-- google analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-83647799-1', 'auto');
    ga('send', 'pageview');
</script>

</html>
